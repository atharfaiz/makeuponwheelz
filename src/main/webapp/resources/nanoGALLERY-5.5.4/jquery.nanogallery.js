!function(e){function t(){function t(){ot.scrollTimeOut&&clearTimeout(ot.scrollTimeOut),ot.scrollTimeOut=setTimeout(function(){return ot.containerViewerDisplayed?void 0:("loadData"==ot.O.lazyBuild&&it(ot.$E.conTnParent,ot.O.lazyBuildTreshold)&&(ot.O.lazyBuild="none",s()),-1!=ot.delayedAlbumIdx&&it(ot.$E.conTnParent,ot.O.lazyBuildTreshold)&&Q(ot.delayedAlbumIdx,ot.delayedSetLocationHash),void re())},100)}function a(e){ot.isShiftPressed=e.shiftKey,ot.isAltPressed=e.altKey,ot.isCtrlPressed=e.ctrlKey,ot.isMetaPressed=e.metaKey}function r(){return{animationEngine:ot.aengine,t:"test"}}function l(){var e="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";e+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/?hl=en-US)">Chrome</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/)">Firefox</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',et(e,!1)}function o(e){for(var t=document.createElement("div"),a=0;a<e.length;++a)if("undefined"!=typeof t.style[e[a]])return e[a];return null}function s(){var e=Math.max(window.screen.width,window.screen.height);void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(e*=window.devicePixelRatio);for(var t=0;t<ot.tn.getHE().length;t++)switch(ot.tn.getHE()[t].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":ot.tn.scale=Math.max(ot.tn.scale,1.5);break;case"scale120":ot.tn.scale=Math.max(ot.tn.scale,1.2)}switch(ot.O.itemsBaseURL.length>0&&(ot.O.itemsBaseURL+="/"),ot.O.kind){case"":if(M(ot.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),void 0!==ot.O.items&&null!==ot.O.items)C(),y(!1)||R(0,!1);else{var n=jQuery(ot.$E.base).children("a");n.length>0?(k(n),y(!1)||R(0,!1)):et("error: no image to process.")}break;case"flickr":for(ot.O.flickrSkipOriginal||(ot.flickr.photoAvailableSizes.push(1e4),ot.flickr.photoAvailableSizesStr.push("o")),i=0;i<ot.flickr.photoAvailableSizes.length&&(ot.flickr.photoSize=i,!(e<=ot.flickr.photoAvailableSizes[i]));i++);M(ot.i18nTranslations.breadcrumbHome,"","","","","album","",ot.O.photoset.length>0?ot.O.photoset:"0","-1"),T(0,!0,-1,!1);break;case"json":M(ot.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),L(0,!0,-1,!1);break;case"picasa":default:if(ot.O.album.length>0){var r=ot.O.album.indexOf("&authkey=");if(r>=0){var l=ot.O.album.substring(0,r),o=ot.O.album.substring(r);-1==o.indexOf("Gv1sRg")&&(o="&authkey=Gv1sRg"+o.substring(9));var s=M(ot.i18nTranslations.breadcrumbHome,"","","","","album","",l,"-1");s.customData.authkey=o}else M(ot.i18nTranslations.breadcrumbHome,"","","","","album","",ot.O.album,"-1")}else M(ot.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");G(0,!0,-1,!1)}jQuery(document).keyup(function(e){if(a(e),ot.containerViewerDisplayed)switch(e.keyCode){case 27:Xe(!0);break;case 32:case 13:_e();break;case 38:case 39:case 33:We();break;case 40:case 37:case 34:Re();break;case 35:case 36:}}),jQuery(window).click(a),jQuery(window).mousemove(a),ot.O.locationHash&&jQuery(window).bind("hashchange",function(){y(!0)}),ot.O.galleryFullpageButton&&(ot.O.RTL?ot.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(ot.$E.conNavB):ot.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(ot.$E.conNavB),ot.$E.conNavBFullpage.on("click",function(e){if(ot.$E.conNavBFullpage.hasClass("setFullPageButton")){if(ot.containerViewerDisplayed)return;for(ot.O.maxWidth>0&&jQuery(ot.$E.base).css({maxWidth:""}),ot.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),rt("",ot.$E.base),t=0;t<ot.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(ot.tn.getHE()[t].name)&&ot.$E.base.css({overflow:"auto"});ot.$E.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"}),Z()}else{if(ot.containerViewerDisplayed)return;for(ot.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),ot.O.maxWidth>0&&jQuery(ot.$E.base).css({maxWidth:ot.O.maxWidth}),ot.$E.base.removeClass("fullpage"),t=0;t<ot.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(ot.tn.getHE()[t].name)&&ot.$E.base.css({overflow:"visible"});u(),Z()}}))}function u(){jQuery("body").css({overflow:"visible"})}function c(e,t){jQuery(e).css({left:t})}function g(e){function t(e){if(void 0!=e&&(null!=ot.$currentTouchedThumbnail&&$e(ot.$currentTouchedThumbnail),ot.$currentTouchedThumbnail=null,"function"!=typeof ot.O.fnThumbnailClicked||ot.O.fnThumbnailClicked(ot.I[e].$elt,ot.I[e]))){if(void 0!==ot.I[e].destinationURL&&ot.I[e].destinationURL.length>0)return void(window.location=ot.I[e].destinationURL);ot.openNoDelay=!1,"album"==ot.I[e].kind?Y(e,!1,-1,!0):Te(e,!1)}}function n(){if(h=0,m=null,d=null,c(ot.$E.conTn[0],0),ot.containerViewerDisplayed)ot.$currentTouchedThumbnail=null,ot.openNoDelay=!1;else if(null!=ot.$currentTouchedThumbnail){if(Math.abs(f.t-at().t)>10)return $e(ot.$currentTouchedThumbnail),ot.$currentTouchedThumbnail=null,void(ot.openNoDelay=!1);var e=ot.$currentTouchedThumbnail,a=e.data("index");if(void 0==a)return;("l1"==ot.curNavLevel&&void 0!==ot.O.touchAnimationL1?ot.O.touchAnimationL1:ot.O.touchAnimation)&&!ot.openNoDelay?ot.O.touchAutoOpenDelay>0?(ve(),Le(e),window.clearInterval(ot.touchAutoOpenDelayTimerID),ot.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(ot.touchAutoOpenDelayTimerID),Math.abs(f.t-at().t)>10?(ot.openNoDelay=!1,ot.$currentTouchedThumbnail=null,$e(e)):t(a)},ot.O.touchAutoOpenDelay)):ot.I[a].hovered?t(a):(ve(),Le(e)):t(a)}else ot.openNoDelay=!1}function i(){if(null==d||null==m)return void n();{var e=m.x-d.x;m.y-d.y}h-=e,ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()&&Math.abs(e)>30?(ot.$currentTouchedThumbnail=null,h=0,m=null,d=null,ve(),-30>e?se():oe()):n()}function r(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function l(){if(g){if(ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()){var e=m.x-d.x;c(u,h-e)}g=!1}}function o(e){if(!ot.containerViewerDisplayed){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&Le(jQuery(t))}}function s(e){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&$e(jQuery(t))}var u=e,g=!1,m=null,d=null,h=0,b=!1,p=null,f=0;this.handleGestureStartNoDelay=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(ot.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler")){if(jQuery(e.target).hasClass("ngChekbox")){var n=jQuery(e.target).parent().data("index");void 0!=n&&be(ot.I[n],void 0,!1)}return e.stopPropagation(),!1}a(e),(new Date).getTime()-ot.timeLastTouchStart<400&&ot.O.itemsSelectable!==!0||(ot.openNoDelay=!0,this.handleGestureStart(e))}.bind(this),this.handleGestureStart=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(ot.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler"))return e.stopPropagation(),!1;if(!((new Date).getTime()-ot.timeImgChanged<400&&ot.O.itemsSelectable!==!0||(new Date).getTime()-ot.timeLastTouchStart<400&&ot.O.itemsSelectable!==!0)){ot.timeLastTouchStart=(new Date).getTime();for(var a=e.target||e.srcElement,n=!1;a!=ot.$E.conTn[0];)jQuery(a).hasClass("nanoGalleryThumbnailContainer")&&(null==ot.$currentTouchedThumbnail||ot.$currentTouchedThumbnail.is(jQuery(a))||ve(),ot.$currentTouchedThumbnail=jQuery(a),n=!0),a=a.parentNode;if(n){if(ot.O.itemsSelectable===!0){if(ot.isShiftPressed||ot.isCtrlPressed||ot.isMetaPressed||"input"===e.target.nodeName.toLowerCase())return be(ot.I[ot.$currentTouchedThumbnail.data("index")]),!1;if(ot.selectMode===!0)return be(ot.I[ot.$currentTouchedThumbnail.data("index")]),!1;var i=ot.$currentTouchedThumbnail.data("index");ot.touchSelectTO=setTimeout(function(){be(ot.I[i])},500)}f=at(),m=r(e),initialOffsetTop=at().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),ot.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"),ot.gallerySwipeInitDone=!0}}}.bind(this),this.handleGestureMove=function(e){d=r(e),g||ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()&&(Math.abs(m.x-d.x)>15||b)&&(e.preventDefault(),b=!0,g=!0,window.requestAnimationFrame(l))}.bind(this),this.handleGestureEnd=function(e){if(e.cancelable&&e.preventDefault(),e.stopPropagation(),g=!1,b=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),ot.O.itemsSelectable===!0){if((new Date).getTime()-ot.timeLastTouchStart>500)return!1;clearTimeout(ot.touchSelectTO)}ot.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off"),i(),m=null,d=null,h=0,b=!1,p=null}.bind(this),window.navigator.msPointerEnabled?u.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0):(u.addEventListener("touchstart",this.handleGestureStart,!0),ot.isIOS||u.addEventListener("mousedown",this.handleGestureStartNoDelay,!0)),u.addEventListener("mouseenter",o,!0),u.addEventListener("mouseleave",s,!0)}function m(){"fancybox"==ot.O.viewer&&"undefined"==typeof jQuery.fancybox&&(ot.O.viewer="internal",tt("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")),("CBRISBOIS@GMAIL.COM"==ot.O.userID.toUpperCase()||"111186676244625461692"==ot.O.userID)&&(""==ot.O.blackList||"SCRAPBOOK|PROFIL"==ot.O.blackList.toUpperCase())&&(ot.O.blackList="profil|scrapbook|forhomepage"),""!=ot.O.blackList&&(ot.blackList=ot.O.blackList.toUpperCase().split("|")),""!=ot.O.whiteList&&(ot.whiteList=ot.O.whiteList.toUpperCase().split("|")),""!=ot.O.albumList&&(ot.albumList=ot.O.albumList.toUpperCase().split("|")),("picasa"==ot.O.kind||"flickr"==ot.O.kind)&&(ot.O.displayBreadcrumb=!0),void 0!==ot.O.photoset?ot.O.photoset.length>0&&(ot.O.displayBreadcrumb=!1):ot.O.photoset="",void 0!==ot.O.album?ot.O.album.length>0&&(ot.O.displayBreadcrumb=!1):ot.O.album="",ot.O.maxWidth>0&&(jQuery(ot.$E.base).css({maxWidth:ot.O.maxWidth}),jQuery(ot.$E.base).css({"margin-left":"auto"}),jQuery(ot.$E.base).css({"margin-right":"auto"})),"number"==ut(ot.O.slideshowDelay)&&ot.O.slideshowDelay>=2e3?ot.slideshowDelay=ot.O.slideshowDelay:tt('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==ut(ot.O.thumbnailDisplayInterval)&&ot.O.thumbnailDisplayInterval>=0?ot.tn.displayInterval=ot.O.thumbnailDisplayInterval:tt('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==ut(ot.O.thumbnailLazyLoadTreshold)&&ot.O.thumbnailLazyLoadTreshold>=0?ot.tn.lazyLoadTreshold=ot.O.thumbnailLazyLoadTreshold:tt('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==ut(ot.O.paginationMaxLinesPerPage)&&ot.O.paginationMaxLinesPerPage>=0?ot.pgMaxLinesPerPage=ot.O.paginationMaxLinesPerPage:tt('Parameter "paginationMaxLinesPerPage" must be an integer.'),void 0!==ot.O.thumbnailSizeSM&&(ot.O.breakpointSizeSM=ot.O.thumbnailSizeSM),void 0!==ot.O.thumbnailSizeME&&(ot.O.breakpointSizeME=ot.O.thumbnailSizeME),void 0!==ot.O.thumbnailSizeLA&&(ot.O.breakpointSizeLA=ot.O.thumbnailSizeLA),void 0!==ot.O.thumbnailSizeXL&&(ot.O.breakpointSizeXL=ot.O.thumbnailSizeXL);var e=ot.O.albumSorting.toUpperCase();0==e.indexOf("RANDOM")&&e.length>6&&(n=parseInt(e.substring(6)),n>0&&(ot.maxAlbums=n),ot.O.albumSorting="random");var t=ot.O.photoSorting.toUpperCase();0==t.indexOf("RANDOM")&&t.length>6&&(n=parseInt(t.substring(6)),n>0&&(ot.maxPhotos=n),ot.O.photoSorting="random");var a=ot.O.thumbnailL1HoverEffect;if(void 0!==a)switch(ut(a)){case"string":for(var i=a.split(","),r=0;r<i.length;r++)if("none"!=i[r]&&f(i[r])){var l=p();l.name=i[r],ot.tnL1HE.push(l)}break;case"object":if("none"!=a.name&&f(a.name)){var l=p();ot.tnL1HE.push(jQuery.extend(l,a))}break;case"array":for(var r=0;r<a.length;r++)if("none"!=a[r].name&&f(a[r].name)){var l=p();ot.tnL1HE.push(jQuery.extend(l,a[r]))}break;case"null":break;default:et('incorrect parameter for "thumbnailL1HoverEffect".')}var o=ot.O.thumbnailHoverEffect;switch(ut(o)){case"string":for(var i=o.split(","),r=0;r<i.length;r++)if("none"!=i[r]&&f(i[r])){var l=p();l.name=i[r],ot.tnHE.push(l)}break;case"object":if("none"!=o.name&&f(o.name)){var l=p();ot.tnHE.push(jQuery.extend(l,o))}break;case"array":for(var r=0;r<o.length;r++)if("none"!=o[r].name&&f(o[r].name)){var l=p();ot.tnHE.push(jQuery.extend(l,o[r]))}break;case"null":break;default:et('incorrect parameter for "thumbnailHoverEffect".')}if(0==ot.tnHE.length&&(0==ot.tnL1HE.length&&(ot.O.touchAnimationL1=!1),ot.O.touchAnimation=!1),ot.curWidth=h(),"number"==ut(ot.O.thumbnailWidth))d("width","l1",ot.O.thumbnailWidth,"u"),d("width","lN",ot.O.thumbnailWidth,"u");else{var s=ot.O.thumbnailWidth.split(" "),u="auto";"auto"!=s[0].substring(0,4)&&(u=parseInt(s[0]));var c="u";"C"==s[0].charAt(s[0].length-1)&&(c="c"),d("width","l1",u,c),d("width","lN",u,c);for(var r=1;r<s.length;r++){var g=s[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(g)){var m=s[r].substring(2),u="auto";"auto"!=m.substring(0,4)&&(u=parseInt(m));var c="u";"C"==m.charAt(m.length-1)&&(c="c"),ot.tn.settings.width.l1[g]=u,ot.tn.settings.width.lN[g]=u,ot.tn.settings.width.l1[g+"c"]=c,ot.tn.settings.width.lN[g+"c"]=c}}}if(void 0!=ot.O.thumbnailL1Width)if("number"==ut(ot.O.thumbnailL1Width))d("width","l1",ot.O.thumbnailL1Width,"u");else{var s=ot.O.thumbnailL1Width.split(" "),u="auto";"auto"!=s[0].substring(0,4)&&(u=parseInt(s[0]));var c="u";"C"==s[0].charAt(s[0].length-1)&&(c="c"),d("width","l1",u,c);for(var r=1;r<s.length;r++){var g=s[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(g)){var m=s[r].substring(2),u="auto";"auto"!=m.substring(0,4)&&(u=parseInt(m));var c="u";"C"==m.charAt(m.length-1)&&(c="c"),ot.tn.settings.width.l1[g]=u,ot.tn.settings.width.l1[g+"c"]=c}}}if("number"==ut(ot.O.thumbnailHeight))d("height","l1",ot.O.thumbnailHeight,"u"),d("height","lN",ot.O.thumbnailHeight,"u");else{var s=ot.O.thumbnailHeight.split(" "),u="auto";"auto"!=s[0].substring(0,4)&&(u=parseInt(s[0]));var c="u";"C"==s[0].charAt(s[0].length-1)&&(c="c"),d("height","l1",u,c),d("height","lN",u,c);for(var r=1;r<s.length;r++){var g=s[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(g)){var m=s[r].substring(2),u="auto";"auto"!=m.substring(0,4)&&(u=parseInt(m));var c="u";"C"==m.charAt(m.length-1)&&(c="c"),ot.tn.settings.height.l1[g]=u,ot.tn.settings.height.lN[g]=u,ot.tn.settings.height.l1[g+"c"]=c,ot.tn.settings.height.lN[g+"c"]=c}}}if(void 0!=ot.O.thumbnailL1Height)if("number"==ut(ot.O.thumbnailL1Height))d("height","l1",ot.O.thumbnailL1Height,"u");else{var s=ot.O.thumbnailL1Height.split(" "),u="auto";"auto"!=s[0].substring(0,4)&&(u=parseInt(s[0]));var c="u";"C"==s[0].charAt(s[0].length-1)&&(c="c"),d("height","l1",u,c);for(var r=1;r<s.length;r++){var g=s[r].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(g)){var m=s[r].substring(2),u="auto";"auto"!=m.substring(0,4)&&(u=parseInt(m));var c="u";"C"==m.charAt(m.length-1)&&(c="c"),ot.tn.settings.height.l1[g]=u,ot.tn.settings.height.l1[g+"c"]=c}}}}function d(e,t,a,n){ot.tn.settings[e][t].xs=a,ot.tn.settings[e][t].sm=a,ot.tn.settings[e][t].me=a,ot.tn.settings[e][t].la=a,ot.tn.settings[e][t].xl=a,ot.tn.settings[e][t].xsc=n,ot.tn.settings[e][t].smc=n,ot.tn.settings[e][t].mec=n,ot.tn.settings[e][t].lac=n,ot.tn.settings[e][t].xlc=n}function h(){var e=at().w;return ot.O.breakpointSizeSM>0&&e<ot.O.breakpointSizeSM?"xs":ot.O.breakpointSizeME>0&&e<ot.O.breakpointSizeME?"sm":ot.O.breakpointSizeLA>0&&e<ot.O.breakpointSizeLA?"me":ot.O.breakpointSizeXL>0&&e<ot.O.breakpointSizeXL?"la":"xl"}function b(){var e=Math.max(at().w,at().h);return ot.O.breakpointSizeSM>0&&e<ot.O.breakpointSizeSM?"xs":ot.O.breakpointSizeME>0&&e<ot.O.breakpointSizeME?"sm":ot.O.breakpointSizeLA>0&&e<ot.O.breakpointSizeLA?"me":ot.O.breakpointSizeXL>0&&e<ot.O.breakpointSizeXL?"la":"xl"}function p(){var e={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};return"animate"!=ot.aengine&&(e.easing="ease",e.easingBack="ease"),e}function f(e){var t=/labelOpacity50|borderLighter|borderDarker/i.test(e),a=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(e),n=/imageExplode/i.test(e);return ot.O.touchAutoOpenDelay=parseInt(ot.O.touchAutoOpenDelay),0==ot.O.touchAutoOpenDelay&&(ot.O.touchAutoOpenDelay=1e3),t||a||n?"onBottom"!=ot.O.thumbnailLabel.get("position")||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(e)?!n||"animate"!=ot.aengine&&null!=ot.CSStransformName?!0:(tt('Parameter thumbnailHoverEffect="'+e+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(et('The parameter combination thumbnailHoverEffect="'+e+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(et('Unknow parameter value: thumbnailHoverEffect="'+e+'".'),!1)}function v(){ot.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===ot.i18nLang&&(ot.i18nLang="");var e=-("_"+ot.i18nLang).length;if("object"==ut(ot.O.i18n))for(var t in ot.O.i18n){var a=t.substr(e);a=="_"+ot.i18nLang?ot.i18nTranslations[t.substr(0,t.length-a.length)]=ot.O.i18n[t]:ot.i18nTranslations[t]=ot.O.i18n[t]}}function y(e){if(""!=ot.O.openOnStart){var t=ot.O.openOnStart;return ot.O.openOnStart="",I(!1,t,!0)}if(!ot.O.locationHash)return!1;var a="#nanogallery/"+ot.baseEltID+"/",n=location.hash;if(n!=ot.lastLocationHash){if(""==n&&-1!=ot.lastOpenAlbumID)return ot.lastLocationHash="",Y(0,!1,-1,!1),!0;if(0==n.indexOf(a)){var t=n.substring(a.length);return I(e,t,!e)}}}function I(e,t,a){var n=null,i=null,r=t.indexOf("/"),l=-1,o=-1,s=ot.I.length;if(r>0){n=t.substring(0,r),i=t.substring(r+1);for(var u=0;s>u;u++)if("image"==ot.I[u].kind&&ot.I[u].GetID()==i){o=u;break}}else n=t;for(var u=0;s>u;u++)if("album"==ot.I[u].kind&&ot.I[u].GetID()==n){l=u;break}return null!==i?(a&&(ot.albumIdxToOpenOnViewerClose=l),""==ot.O.kind?Te(o):-1==o?(ot.O.viewerFullscreen&&ngscreenfull.request(),Y(l,!1,i,e)):Te(o),!0):(Y(l,!1,-1,e),!0)}function w(){ot.I=[],ot.curNavLevel="lN";var e="";ot.O.thumbnailLabel.get("displayDescription")&&(e="d");var t=M("dummydummydummy",ot.emptyGif,ot.emptyGif,e,"","image","","1","0"),a=me(t,0,!1).e$;ot.tn.borderWidth=a.outerWidth(!0)-a.width(),ot.tn.borderHeight=a.outerHeight(!0)-a.height(),ot.tn.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width(),ot.tn.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height(),ot.tn.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-a.find(".labelImage").height(),ot.tn.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width(),"onBottom"==ot.O.thumbnailLabel.get("position")&&(ot.tn.labelHeight.lN=a.find(".labelImage").outerHeight(!0),ot.tn.labelHeight.l1=ot.tn.labelHeight.lN);for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++)r=ot.tn.settings.width.lN[n[i]],r=ot.tn.settings.width.l1[n[i]],"auto"!=r?(ot.tn.outerWidth.lN[n[i]]=r+ot.tn.borderWidth+ot.tn.imgcBorderWidth,ot.tn.outerWidth.l1[n[i]]=r+ot.tn.borderWidth+ot.tn.imgcBorderWidth):(ot.tn.outerWidth.lN[n[i]]=0,ot.tn.outerWidth.l1[n[i]]=0);for(var i=0;i<n.length;i++)l=ot.tn.settings.height.lN[n[i]],l=ot.tn.settings.height.l1[n[i]],"auto"!=l?(ot.tn.outerHeight.lN[n[i]]=l+ot.tn.borderHeight+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get(),ot.tn.outerHeight.l1[n[i]]=l+ot.tn.borderHeight+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get()):(ot.tn.outerHeight.lN[n[i]]=0,ot.tn.outerHeight.l1[n[i]]=0);ot.I=[],ot.curNavLevel="l1",e="",ot.O.thumbnailLabel.get("displayDescription")&&(e="d"),t=M("dummydummydummy",ot.emptyGif,ot.emptyGif,e,"","image","","1","0"),a=me(t,0,!1).e$,ot.tn.borderWidth=a.outerWidth(!0)-a.width(),ot.tn.borderHeight=a.outerHeight(!0)-a.height(),ot.tn.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width(),ot.tn.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height(),ot.tn.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-a.find(".labelImage").height(),ot.tn.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width(),"onBottom"==ot.O.thumbnailLabel.get("position")&&(ot.tn.labelHeight.l1=a.find(".labelImage").outerHeight(!0));for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++){var r=ot.tn.settings.width.l1[n[i]];"auto"!=r?ot.tn.outerWidth.l1[n[i]]=r+ot.tn.borderWidth+ot.tn.imgcBorderWidth:ot.tn.outerWidth.l1[n[i]]=0}for(var i=0;i<n.length;i++){var l=ot.tn.settings.height.l1[n[i]];"auto"!=l?ot.tn.outerHeight.l1[n[i]]=l+ot.tn.borderHeight+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get():ot.tn.outerHeight.l1[n[i]]=0}ot.pgMaxNbThumbnailsPerRow=ee(),ot.custGlobals.oldBorderColor=a.css("border-color-top"),(""==ot.custGlobals.oldBorderColor||null==ot.custGlobals.oldBorderColor||void 0==ot.custGlobals.oldBorderColor)&&(ot.custGlobals.oldBorderColor="#000"),ot.custGlobals.oldLabelOpacity=a.find(".labelImage").css("opacity");var o=jQuery.Color(a.find(".labelImage"),"backgroundColor");if(ot.custGlobals.oldLabelRed=o.red(),ot.custGlobals.oldLabelGreen=o.green(),ot.custGlobals.oldLabelBlue=o.blue(),ot.I=[],ot.O.thumbnailLabel.display)switch(ot.O.thumbnailLabel.position){case"onBottom":ot.tn.styleLabelImage="top:0; position:relative; left:0; right:0;",ot.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==ot.tn.settings.getH()?(ot.tn.styleFTitle="white-space:normal;",ot.tn.styleL1FTitle="white-space:normal;",ot.tn.styleITitle="white-space:normal;",ot.tn.styleL1ITitle="white-space:normal;",ot.tn.styleDesc="white-space:normal;",ot.tn.styleL1Desc="white-space:normal;"):(ot.tn.styleFTitle="white-space:nowrap;",ot.tn.styleL1FTitle="white-space:nowrap;",ot.tn.styleITitle="white-space:nowrap;",ot.tn.styleL1ITitle="white-space:nowrap;",ot.tn.styleDesc="white-space:nowrap;",ot.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":ot.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",ot.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":ot.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",ot.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",ot.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleDesc="left:0; right:0; position:absolute; top:50%;",ot.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:ot.O.thumbnailLabel.position="overImageOnBottom",ot.tn.styleLabelImage="bottom:0; left:0; right:0;",ot.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}if(ot.O.thumbnailL1Label&&ot.O.thumbnailL1Label.display)switch(ot.O.thumbnailL1Label.position){case"onBottom":ot.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==ot.tn.settings.getH()?(ot.tn.styleL1FTitle="white-space:normal;",ot.tn.styleL1ITitle="white-space:normal;",ot.tn.styleL1Desc="white-space:normal;"):(ot.tn.styleL1FTitle="white-space:nowrap;",ot.tn.styleL1ITitle="white-space:nowrap;",ot.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":ot.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":ot.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",ot.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",ot.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":ot.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:ot.O.thumbnailL1Label.position="overImageOnBottom",ot.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}}function E(e,t){var a="";return a=""!=ot.i18nLang&&void 0!==e[t+"_"+ot.i18nLang]&&e[t+"_"+ot.i18nLang].length>0?e[t+"_"+ot.i18nLang]:e[t]}function x(e){if("%filename"==ot.O.thumbnailLabel.get("title"))return e.split("/").pop().replace("_"," ");if("%filenameNoExt"==ot.O.thumbnailLabel.get("title")){var t=e.split("/").pop();return t.split(".").shift().replace("_"," ")}return e}function C(){var e=!1;"undefined"!=typeof ot.O.dataSorting&&("random"==ot.O.dataSorting?ot.O.items=lt(ot.O.items):"reversed"==ot.O.dataSorting&&(ot.O.items=ot.O.items.reverse())),jQuery.each(ot.O.items,function(t,a){var n="";n=E(a,"title"),void 0===n&&(n="");var i=ot.O.itemsBaseURL;i+=void 0!==a["src"+b().toUpperCase()]?a["src"+b().toUpperCase()]:a.src;var r="";r=void 0!==a.srct&&a.srct.length>0?ot.O.itemsBaseURL+a.srct:i;var l="";l=void 0!==a.srct2x&&a.srct2x.length>0?ot.O.itemsBaseURL+a.srct2x:""!=r?r:i,""!=ot.O.thumbnailLabel.get("title")&&(n=x(i));var o="";o=E(a,"description"),void 0===o&&(o="");var s="";void 0!==a.destURL&&a.destURL.length>0&&(s=a.destURL);var u=E(a,"tags");void 0===u&&(u="");var c=0;void 0!==a.albumID&&(c=a.albumID,e=!0);var g=null;void 0!==a.ID&&(g=a.ID);var m="image";void 0!==a.kind&&a.kind.length>0&&(m=a.kind);var d=M(n,r,i,o,s,m,u,g,c),h=0;void 0!==a.imgtWidth&&a.imgtWidth>0&&(h=a.imgtWidth);var p=0;void 0!==a.imgtHeight&&a.imgtHeight>0&&(p=a.imgtHeight),d.thumbs={url:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},null!==a.customData&&(d.customData=S(a.customData)),"function"==typeof ot.O.fnProcessData&&ot.O.fnProcessData(d,"api",null)}),e&&(ot.O.displayBreadcrumb=!0);for(var t=ot.I.length,a=0,n=0,i=0;t>i;i++){a=0,n=0;for(var r=0;t>r;r++)i!=r&&ot.I[i].GetID()==ot.I[r].albumID&&(a++,"image"==ot.I[r].kind&&(ot.I[r].imageNumber=n++));ot.I[i].contentLength=a}}function S(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var a in e)t[a]=S(e[a]);return t}function k(e){var t=!1;"undefined"!=typeof ot.O.dataSorting&&("random"==ot.O.dataSorting?e=lt(e):"reversed"==ot.O.dataSorting&&(jQuery.fn.reverse=[].reverse,e=e.reverse())),jQuery.each(e,function(e,a){var n="";void 0!==jQuery(a).attr("data-ngthumb")&&jQuery(a).attr("data-ngthumb").length>0&&(n=ot.O.itemsBaseURL+jQuery(a).attr("data-ngthumb")),void 0!==jQuery(a).attr("data-ngThumb")&&jQuery(a).attr("data-ngThumb").length>0&&(n=ot.O.itemsBaseURL+jQuery(a).attr("data-ngThumb"));var i="";void 0!==jQuery(a).attr("data-ngthumb2x")&&jQuery(a).attr("data-ngthumb2x").length>0&&(i=ot.O.itemsBaseURL+jQuery(a).attr("data-ngthumb2x")),void 0!==jQuery(a).attr("data-ngThumb2x")&&jQuery(a).attr("data-ngThumb2x").length>0&&(i=ot.O.itemsBaseURL+jQuery(a).attr("data-ngThumb2x"));var r="",l=b().toUpperCase();void 0!==jQuery(a).attr("data-ngsrc"+l)&&jQuery(a).attr("data-ngsrc"+l).length>0&&(r=ot.O.itemsBaseURL+jQuery(a).attr("data-ngsrc"+l)),void 0!==jQuery(a).attr("data-ngSrc"+l)&&jQuery(a).attr("data-ngSrc"+l).length>0&&(r=ot.O.itemsBaseURL+jQuery(a).attr("data-ngSrc"+l)),""==r&&(r=ot.O.itemsBaseURL+jQuery(a).attr("href"));var o="";void 0!==jQuery(a).attr("data-ngdesc")&&jQuery(a).attr("data-ngdesc").length>0&&(o=jQuery(a).attr("data-ngdesc")),void 0!==jQuery(a).attr("data-ngDesc")&&jQuery(a).attr("data-ngDesc").length>0&&(o=jQuery(a).attr("data-ngDesc"));var s="";void 0!==jQuery(a).attr("data-ngdest")&&jQuery(a).attr("data-ngdest").length>0&&(s=jQuery(a).attr("data-ngdest")),void 0!==jQuery(a).attr("data-ngDest")&&jQuery(a).attr("data-ngDest").length>0&&(s=jQuery(a).attr("data-ngDest"));var u=0;void 0!==jQuery(a).attr("data-ngalbumid")&&(u=jQuery(a).attr("data-ngalbumid"),t=!0),void 0!==jQuery(a).attr("data-ngAlbumID")&&(u=jQuery(a).attr("data-ngAlbumID"),t=!0);var c=null;void 0!==jQuery(a).attr("data-ngid")&&(c=jQuery(a).attr("data-ngid")),void 0!==jQuery(a).attr("data-ngID")&&(c=jQuery(a).attr("data-ngID"));var g="image";void 0!==jQuery(a).attr("data-ngkind")&&jQuery(a).attr("data-ngkind").length>0&&(g=jQuery(a).attr("data-ngkind")),void 0!==jQuery(a).attr("data-ngKind")&&jQuery(a).attr("data-ngKind").length>0&&(g=jQuery(a).attr("data-ngKind"));var m=jQuery(a).text();""!=ot.O.thumbnailLabel.get("title")&&void 0!=ot.O.thumbnailLabel.get("title")&&(m=x(r));var d=M(m,n,r,o,s,g,"",c,u),h=0;void 0!==jQuery(a).attr("data-ngthumbImgWidth")&&jQuery(a).attr("data-ngthumbImgWidth").length>0&&(h=jQuery(a).attr("data-ngthumbImgWidth"));var p=0;void 0!==jQuery(a).attr("data-ngthumbImgHeight")&&jQuery(a).attr("data-ngthumbImgHeight").length>0&&(p=jQuery(a).attr("data-ngthumbImgHeight")),d.thumbs={url:{l1:{xs:n,sm:n,me:n,la:n,xl:n},lN:{xs:n,sm:n,me:n,la:n,xl:n}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},void 0!==jQuery(a).data("customdata")&&(d.customData=S(jQuery(a).data("customdata"))),"function"==typeof ot.O.fnProcessData&&ot.O.fnProcessData(d,"markup",null)}),jQuery.each(e,function(e,t){jQuery(t).remove()}),t&&(ot.O.displayBreadcrumb=!0);for(var a=ot.I.length,n=0,i=0,r=0;a>r;r++){n=0,i=0;for(var l=0;a>l;l++)r!=l&&ot.I[r].GetID()==ot.I[l].albumID&&(n++,"image"==ot.I[l].kind&&(ot.I[l].imageNumber=i++));ot.I[r].contentLength=n}}function L(e,t,a,n){if(q(e),ot.I[e].contentIsLoaded)return void R(e,n);var i=ot.O.jsonProvider+"?albumID="+encodeURIComponent(ot.I[e].GetID());z(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var r=setTimeout(function(){X(),et("Could not retrieve Custom data...")},6e4);jQuery.getJSON(i,function(i,l,o){if(clearTimeout(r),X(),$(e,i),t||""!=ot.O.openOnStart)y(!1)||R(e,n);else if(-1!=a){for(var s=-1,u=ot.I.length,c=0;u>c;c++)if("image"==ot.I[c].kind&&ot.I[c].GetID()==a){s=c;break}Te(s,!0)}else R(e,n)}).fail(function(e,t,a){clearTimeout(r),X();var n=t+", "+a;et("Could not retrieve JSON items list (jQuery): "+n)})}function O(e){switch(ot.O.jsonCharset.toUpperCase()){case"UTF-8":return decodeURI(e);

case"Latin":default:return escape(e)}}function $(e,t){var a=!1,n=0;jQuery.each(t,function(e,t){var i="";i=E(t,"title"),void 0===i&&(i="");var r=ot.O.jsonProvider.substring(0,ot.O.jsonProvider.indexOf("nanoPhotosProvider.php")),l=r+O(t.src),o=r+O(t.srct);""!=ot.O.thumbnailLabel.get("title")&&(i=x(t.src));var s="";s=E(t,"description"),void 0===s&&(s="");var u="",c=0;void 0!==t.albumID&&(c=t.albumID,a=!0);var g=null;void 0!==t.ID&&(g=t.ID);var m="image";void 0!==t.kind&&t.kind.length>0&&(m=t.kind);var d=M(i,o,l,s,u,m,"",g,c),h=t.imgtWidth,b=t.imgtHeight;return d.thumbs={url:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:b,sm:b,me:b,la:b,xl:b},lN:{xs:b,sm:b,me:b,la:b,xl:b}}},"function"==typeof ot.O.fnProcessData&&ot.O.fnProcessData(d,"api",null),"image"==m&&(d.imageNumber=n,n++,n>=ot.maxAlbums)?!1:void 0}),a&&(ot.O.displayBreadcrumb=!0),ot.I[e].contentIsLoaded=!0,ot.I[e].contentLength=n}function T(e,t,a,n){if(q(e),ot.I[e].contentIsLoaded)return void R(e,n);var i="",r="album";0==ot.I[e].GetID()?i=ot.flickr.url()+"?&method=flickr.photosets.getList&api_key="+ot.flickr.ApiKey+"&user_id="+ot.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(i="none"==ot.I[e].GetID()?ot.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+ot.flickr.ApiKey+"&user_id="+ot.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":ot.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+ot.flickr.ApiKey+"&photoset_id="+ot.I[e].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",r="image"),z(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var l=setTimeout(function(){X(),et("Could not retrieve Flickr data...")},6e4);jQuery.getJSON(i,function(i,o,s){if(clearTimeout(l),X(),"album"==r?D(e,i):F(e,i),t||""!=ot.O.openOnStart)y(!1)||R(e,n);else if(-1!=a){for(var u=-1,c=ot.I.length,g=0;c>g;g++)if("image"==ot.I[g].kind&&ot.I[g].GetID()==a){u=g;break}Te(u,!0)}else R(e,n)}).fail(function(e,t,a){clearTimeout(l),X();var n=t+", "+a;et("Could not retrieve Flickr photoset list (jQuery): "+n)})}function D(e,t){var a=!0;if(void 0!==t.stat&&"fail"===t.stat&&(et("Could not retrieve Flickr photoset list: "+t.message+" (code: "+t.code+")."),a=!1),a){var n=0,i=t.photosets.photoset;switch(ot.O.albumSorting){case"random":i=lt(i);break;case"reversed":i=i.reverse();break;case"titleAsc":i.sort(function(e,t){var a=e.title._content.toUpperCase(),n=t.title._content.toUpperCase();return n>a?-1:a>n?1:0});break;case"titleDesc":i.sort(function(e,t){var a=e.title._content.toUpperCase(),n=t.title._content.toUpperCase();return a>n?-1:n>a?1:0})}jQuery.each(i,function(t,a){if(itemTitle=a.title._content,A(itemTitle,a.id)){itemID=a.id,itemDescription="",void 0!=a.description._content&&(itemDescription=a.description._content);var i={};for(var r in a.primary_photo_extras)i[r]=a.primary_photo_extras[r];tags="",void 0!==a.primary_photo_extras&&void 0!==a.primary_photo_extras.tags&&(tags=a.primary_photo_extras.tags);var l=M(itemTitle,"","",itemDescription,"","album",tags,itemID,ot.I[e].GetID());l.contentLength=a.photos,l.thumbSizes=i;var o={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(o=B(o,a.primary_photo_extras,"l1"),o=B(o,a.primary_photo_extras,"lN"),l.thumbs=o,n++,n>=ot.maxAlbums)return!1}}),ot.I[e].contentIsLoaded=!0,ot.I[e].contentLength=n}}function B(e,t,a){for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++)if("auto"==ot.tn.settings.width[a][n[i]]){var r="height_",l=Math.ceil(ot.tn.settings.height[a][n[i]]*ot.tn.scale),o=H(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}else if("auto"==ot.tn.settings.height[a][n[i]]){var r="width_",l=Math.ceil(ot.tn.settings.width[a][n[i]]*ot.tn.scale),o=H(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}else{var r="height_",l=Math.ceil(ot.tn.settings.height[a][n[i]]*ot.tn.scale);ot.tn.settings.width[a][n[i]]>ot.tn.settings.height[a][n[i]]&&(r="width_",l=Math.ceil(ot.tn.settings.width[a][n[i]]*ot.tn.scale));var o=H(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}return e}function H(e,t,a){for(var n={url:"",width:0,height:0},i=0,r=0;r<ot.flickr.thumbAvailableSizes.length;r++){var l=a[e+ot.flickr.photoAvailableSizesStr[r]];if(void 0!=l&&(i=r,l>=t))break}var o=ot.flickr.photoAvailableSizesStr[i];return n.url=a["url_"+o],n.width=parseInt(a["width_"+o]),n.height=parseInt(a["height_"+o]),n}function F(e,t){var a="";switch(a="none"==ot.I[e].GetID()?t.photos.photo:t.photoset.photo,ot.O.photoSorting){case"random":a=lt(a);break;case"reversed":a=a.reverse();break;case"titleAsc":a.sort(function(e,t){var a="",n="";return""!=ot.O.thumbnailLabel.get("title")?(a=x(e.url_sq),n=x(t.url_sq)):(a=e.title.toUpperCase(),n=t.title.toUpperCase()),n>a?-1:a>n?1:0});break;case"titleDesc":a.sort(function(e,t){var a="",n="";return""!=ot.O.thumbnailLabel.get("title")?(a=x(e.url_sq),n=x(t.url_sq)):(a=e.title.toUpperCase(),n=t.title.toUpperCase()),a>n?-1:n>a?1:0})}var n=ot.I[e].GetID(),i=0;jQuery.each(a,function(e,t){for(var a=t.title,r=t.id,l=t.description._content,o=t.url_sq,e=ot.flickr.photoSize;e>=0;e--)if(void 0!=t["url_"+ot.flickr.photoAvailableSizesStr[e]]){o=t["url_"+ot.flickr.photoAvailableSizesStr[e]];break}var s={};for(var u in t)(0==u.indexOf("height_")||0==u.indexOf("width_")||0==u.indexOf("url_"))&&(s[u]=t[u]);""!=ot.O.thumbnailLabel.get("title")&&(a=x(o));var c=M(a,"",o,l,"","image","",r,n);c.imageNumber=i,void 0!==t.url_o?(c.width=t.width_o,c.height=t.height_o):(c.width=t.width_z,c.height=t.height_z);var g={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};return g=B(g,t,"l1"),g=B(g,t,"lN"),c.thumbs=g,i++,i>=ot.maxPhotos?!1:void 0}),ot.I[e].contentIsLoaded=!0,ot.I[e].contentLength=i}function _(e,t,a,n,i){var r=Math.ceil(a*ot.tn.scale)+i;return"auto"==t?r=Math.ceil(a*ot.tn.scale)+i:"auto"==a?r=Math.ceil(t*ot.tn.scale)+n:t>a&&(r=Math.ceil(t*ot.tn.scale)+n),e.length>0&&(e+=","),e+=r}function G(e,t,a,n){if(q(e),ot.I[e].contentIsLoaded)return void R(e,n);var i="",r="album",l="";if(l=_(l,ot.tn.settings.width.l1.xs,ot.tn.settings.height.l1.xs,ot.tn.settings.width.l1.xsc,ot.tn.settings.height.l1.xsc),l=_(l,ot.tn.settings.width.l1.sm,ot.tn.settings.height.l1.sm,ot.tn.settings.width.l1.smc,ot.tn.settings.height.l1.smc),l=_(l,ot.tn.settings.width.l1.me,ot.tn.settings.height.l1.me,ot.tn.settings.width.l1.mec,ot.tn.settings.height.l1.mec),l=_(l,ot.tn.settings.width.l1.la,ot.tn.settings.height.l1.la,ot.tn.settings.width.l1.lac,ot.tn.settings.height.l1.lac),l=_(l,ot.tn.settings.width.l1.xl,ot.tn.settings.height.l1.xl,ot.tn.settings.width.l1.xlc,ot.tn.settings.height.l1.xlc),l=_(l,ot.tn.settings.width.lN.xs,ot.tn.settings.height.lN.xs,ot.tn.settings.width.lN.xsc,ot.tn.settings.height.lN.xsc),l=_(l,ot.tn.settings.width.lN.sm,ot.tn.settings.height.lN.sm,ot.tn.settings.width.lN.smc,ot.tn.settings.height.lN.smc),l=_(l,ot.tn.settings.width.lN.me,ot.tn.settings.height.lN.me,ot.tn.settings.width.lN.mec,ot.tn.settings.height.lN.mec),l=_(l,ot.tn.settings.width.lN.la,ot.tn.settings.height.lN.la,ot.tn.settings.width.lN.lac,ot.tn.settings.height.lN.lac),l=_(l,ot.tn.settings.width.lN.xl,ot.tn.settings.height.lN.xl,ot.tn.settings.width.lN.xlc,ot.tn.settings.height.lN.xlc),0==ot.I[e].GetID())i=ot.picasa.url()+"user/"+ot.O.userID+"?alt=json&kind=album&thumbsize="+l+"&rnd="+(new Date).getTime();else{var o="";"undefined"!=typeof ot.I[e].customData.authkey&&(o=ot.I[e].customData.authkey),i=ot.picasa.url()+"user/"+ot.O.userID+"/albumid/"+ot.I[e].GetID()+"?alt=json&kind=photo"+o+"&thumbsize="+l+"&imgmax=d",r="image"}z(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var s=setTimeout(function(){X(),et("Could not retrieve Picasa/Google+ data...")},6e4);jQuery.getJSON(i,"callback=?",function(i){if(clearTimeout(s),X(),P(e,i,r),t||""!=ot.O.openOnStart)y(!1)||R(e,n);else if(-1!=a){for(var l=-1,o=ot.I.length,u=0;o>u;u++)if("image"==ot.I[u].kind&&ot.I[u].GetID()==a){l=u;break}Te(l,!0)}else R(e,n)}).fail(function(e,t,a){clearTimeout(s),X();var n="";for(var r in e)n+=r+"="+e[r]+"<br>";var l=t+", "+a+" "+n+"<br><br>URL:"+i;et("Could not retrieve Picasa/Google+ data. Error: "+l)})}function P(e,t,a){var n=0,i=ot.I[e].GetID(),r=t.feed.entry,l=ot.O.albumSorting;switch("image"==a&&(l=ot.O.photoSorting),l){case"random":r=lt(r);break;case"reversed":r=r.reverse();break;case"titleAsc":r.sort(function(e,t){var n="",i="";return"image"==a?""!=ot.O.thumbnailLabel.get("title")?(n=x(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),i=x(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),i=t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),i=t.media$group.media$title.$t.toUpperCase()),i>n?-1:n>i?1:0});break;case"titleDesc":r.sort(function(e,t){var n="",i="";return"image"==a?""!=ot.O.thumbnailLabel.get("title")?(n=x(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),i=x(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),i=t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),i=t.media$group.media$title.$t.toUpperCase()),n>i?-1:i>n?1:0})}jQuery.each(r,function(e,t){var r=t.media$group.media$title.$t,l=t.media$group.media$thumbnail[0].url,o=t.gphoto$id.$t,s="",u=t.media$group.media$description.$t;"image"==a&&(s=r,r=u,u="");var c=t.media$group.media$content[0].url;"image"==a&&""!=ot.O.thumbnailLabel.get("title")&&(r=x(unescape(unescape(unescape(unescape(c))))));var g=!0;"album"==a&&(A(r,o)||(g=!1));var m="";if(g){var d="",h="";if("album"==a)h=o;else{h=c;var b=c.substring(0,c.lastIndexOf("/"));b=b.substring(0,b.lastIndexOf("/"))+"/",h=window.screen.width>window.screen.height?b+"w"+window.screen.width+"/"+s:b+"h"+window.screen.height+"/"+s}var p=M(r,l,h,u,"",a,m,o,i);p.picasaThumbBaseURL=d,p.imageNumber=n,"album"==a&&(p.author=t.author[0].name.$t,p.contentLength=t.gphoto$numphotos.$t);var f={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(f=N("l1",0,f,t,a),f=N("lN",5,f,t,a),p.thumbs=f,"function"==typeof ot.O.fnProcessData&&ot.O.fnProcessData(p,"picasa",t),n++,n>=("album"==a?ot.maxAlbums:ot.maxPhotos))return!1}}),ot.I[e].contentIsLoaded=!0,ot.I[e].contentLength=n}function N(e,t,a,n,i){for(var r=["xs","sm","me","la","xl"],l=0;l<r.length;l++)if(a.url[e][r[l]]=n.media$group.media$thumbnail[t+l].url,"image"==i){a.width[e][r[l]]=n.media$group.media$thumbnail[t+l].width,a.height[e][r[l]]=n.media$group.media$thumbnail[t+l].height;var o=n.media$group.media$thumbnail[t+l].width,s=n.media$group.media$thumbnail[t+l].height;if("auto"==ot.tn.settings.width[e][r[l]]&&s<ot.tn.settings.height[e][r[l]]){var u=o/s;a.width[e][r[l]]=o*u,a.height[e][r[l]]=s*u;var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"h"+ot.tn.settings.height[e][r[l]]+"/"}if("auto"==ot.tn.settings.height[e][r[l]]&&o<ot.tn.settings.width[e][r[l]]){var u=s/o;a.height[e][r[l]]=s*u,a.width[e][r[l]]=o*u;var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"w"+ot.tn.settings.width[e][r[l]]+"/"}}else{if("auto"!=ot.tn.settings.width[e][r[l]])a.width[e][r[l]]=n.media$group.media$thumbnail[t+l].width;else{var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"h"+ot.tn.settings.height[e][r[l]]+"/"}if("auto"!=ot.tn.settings.height[e][r[l]])a.height[e][r[l]]=n.media$group.media$thumbnail[t+l].height;else{var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"w"+ot.tn.settings.width[e][r[l]]+"/"}}return a}function M(e,t,a,n,i,r,l,o,s){var u=W(o),c=!1;return null===u?(u=new st(e,o),c=!0):u.title=e,u.src=a,u.description=n,u.destinationURL=i,u.kind=r,u.albumID=s,0==l.length?u.tags=null:u.tags=l.split(" "),c&&(u.title=e,ot.I.push(u)),u}function W(e){for(var t=ot.I.length,a=0;t>a;a++)if(ot.I[a].GetID()==e)return ot.I[a];return null}function A(e,t){var a=e.toUpperCase();if(null===ot.albumList){var n=!1;if(null!==ot.whiteList){for(var i=0;i<ot.whiteList.length;i++)-1!==a.indexOf(ot.whiteList[i])&&(n=!0);if(!n)return!1}if(null!==ot.blackList)for(var i=0;i<ot.blackList.length;i++)if(-1!==a.indexOf(ot.blackList[i]))return!1;return!0}for(var i=0;i<ot.albumList.length;i++)if(a==ot.albumList[i].toUpperCase()||t==ot.albumList[i])return!0}function R(e,t){"display"==ot.O.lazyBuild?it(ot.$E.conTnParent,ot.O.lazyBuildTreshold)?Q(e,t):(ot.delayedAlbumIdx=e,ot.delayedSetLocationHash=t):Q(e,t)}function Q(e,t){if(ot.O.lazyBuild="none",ot.delayedAlbumIdx=-1,ot.albumIdxToOpenOnViewerClose=-1,ot.O.thumbnailAlbumDisplayImage&&0!=e){for(var a=ot.I.length,n=0;a>n;n++)if(ot.I[n].albumID==ot.I[e].GetID()){Te(n);break}}else if(ot.containerViewerDisplayed&&Xe(!1),e!=ot.lastOpenAlbumID){if(ot.O.locationHash&&t){var i="nanogallery/"+ot.baseEltID+"/"+ot.I[e].GetID();ot.lastLocationHash="#"+i;try{top.location.hash=i}catch(r){ot.O.locationHash=!1}}ot.lastOpenAlbumID=ot.I[e].GetID(),q(e);var l=0;ot.I[e].paginationLastPage>0&&ot.I[e].paginationLastWidth==ot.$E.conTnParent.width()&&(l=ot.I[e].paginationLastPage),ue(e,l)}}function V(e){var t="folder";0==e&&(t="folderHome");var a=jQuery('<div class="'+t+' oneFolder">'+ot.I[e].title+"</div>").appendTo(ot.$E.conBC);jQuery(a).data("albumIdx",e),a.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),Y(e,!1,-1,!0)})}function U(e){var t=jQuery('<div class="separator'+(ot.O.RTL?"RTL":"")+'"></div>').appendTo(ot.$E.conBC);jQuery(t).data("albumIdx",e),t.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),Y(e,!1,-1,!0)})}function q(e){var t=!1;if(1==ot.O.displayBreadcrumb&&!ot.O.thumbnailAlbumDisplayImage){if(0==ot.$E.conBC.children().length&&ot.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),t=!0,ot.$E.conBC.children().remove(),V(0),0!=e){var a=ot.I.length,n=[];n.push(e);for(var r=e;0!=ot.I[r].albumID&&-1!=ot.I[r].albumID;)for(i=1;i<a;i++)if(ot.I[i].GetID()==ot.I[r].albumID){r=i,n.push(r);break}for(U(0),i=n.length-1;i>=0;i--)V(n[i]),i>0&&U(n[i-1])}var l=ot.$E.conBC.children(),o=l.length;if(0==o)ot.curNavLevel="l1",ot.O.breadcrumbAutoHideTopLevel&&(ot.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),t=!1);else if(1==o?ot.curNavLevel="l1":ot.curNavLevel="lN",1==o&&ot.O.breadcrumbAutoHideTopLevel){var s=new NGTweenable;s.tween({from:{opacity:ot.$E.conNavBCon.css("opacity"),"max-height":ot.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:ot.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"0","max-height":"0px"})}})}else if(ot.O.breadcrumbAutoHideTopLevel){var s=new NGTweenable;s.tween({from:{opacity:ot.$E.conNavBCon.css("opacity"),"max-height":ot.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:ot.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"1","max-height":"50px"})}})}else ot.$E.conNavBCon.css({opacity:1,"max-height":"50px"});ot.pgMaxNbThumbnailsPerRow=ee()}ot.O.useTags&&(t=!0,null==ot.containerTags&&(ot.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(ot.$E.conNavB))),ot.O.galleryFullpageButton&&(t=!0),!ot.containerNavigationbarContDisplayed&&t&&(ot.containerNavigationbarContDisplayed=!0,ot.$E.conNavBCon.show())}function z(){ot.$E.conLoadingB.css({visibility:"visible"})}function X(){ot.$E.conLoadingB.css({visibility:"hidden"})}function Y(e,t,a,n){if(ot.O.itemsSelectable){ot.selectedItems=[];for(var i=ot.I.length,r=0;i>r;r++)ot.I[r].selected=!1}switch(ot.O.kind){case"":R(e,n);break;case"flickr":T(e,t,a,n);break;case"json":L(e,t,a,n);break;case"picasa":default:G(e,t,a,n)}}function Z(){"auto"==ot.tn.settings.getH()?K():"auto"==ot.tn.settings.getW()?J():te(),re(),ie(0)}function K(){var e=ot.$E.conTnParent.width(),t=0,a=0,n=0,r=[],l=ee(),o=0,s=ot.O.thumbnailGutterHeight,u=ot.tn.outerWidth.get(),c=ot.$E.conTn.find(".nanoGalleryThumbnailContainer");"justified"==ot.O.thumbnailAlignment?(l=Math.min(l,c.length),o=1==l?0:(e-l*u)/(l-1)):o=ot.O.thumbnailGutterWidth;var g=0;c.each(function(){var e=jQuery(this),i=e.data("index");if(void 0!==i){var u=0;if(0!=a)return!1;u=t*(ot.tn.outerWidth.get()+o),r[t]=ot.I[i].thumbFullHeight+s,t++,g++,t>=l&&(t=0,a++),n++}});var m=r.length*(u+o)-o;a=0,t=0,c.each(function(){var e=jQuery(this),u=e.data("index");if(void 0!==u){"onBottom"==ot.O.thumbnailLabel.get("position")&&fe(e,ot.I[u]);var c=0,g=0;if(0==a)c=t*(ot.tn.outerWidth.get()+o),r[t]=ot.I[u].thumbFullHeight+s,t++,t>=l&&(t=0,a++);else{var d=0,h=r[0];for(i=1;i<l;i++)if(r[i]+5<h){h=r[i],d=i;break}g=r[d],c=d*(ot.tn.outerWidth.get()+o),r[d]=g+ot.I[u].thumbFullHeight+s}var b=c;ot.O.RTL&&(b=m-c-ot.tn.outerWidth.get()),e.css({top:g,left:b}),ae(e,ot.I[u],n),n++}});var d=r[0];for(i=1;i<g;i++)d=Math.max(d,r[i]);ot.$E.conTn.width(m).height(d)}function J(){var e=ot.$E.conTnParent.width(),t=0,a=0,n=0,i=[],r=0,l=[],o=!1,s=0,u=0,c=0,g=0,m=ot.O.thumbnailGutterWidth,d=ot.O.thumbnailGutterHeight,h=0,b=0,p=!1,f=!1,v=ot.$E.conTn.find(".nanoGalleryThumbnailContainer");v.each(function(){var a=jQuery(this).data("index");if(void 0!==a&&void 0!=ot.I[a]){if(!(ot.I[a].thumbImg().width>0))return!1;var n=ot.I[a],u=Math.floor(n.thumbImg().width/n.thumbImg().height*ot.tn.settings.getH())+ot.tn.borderWidth+ot.tn.imgcBorderWidth;if(ot.O.thumbnailFeatured&&0==s&&(u=2*u,c=u),o&&(o=!1,r++,t=0,p=!1,f=!1,1==r&&c>0&&(t=c,c=0)),n.thumbImg().height>n.thumbImg().width?p=!0:f=!0,e>t+u+m){t+=u+m,l[r]=ot.tn.settings.getH();var g=Math.max(p?h:0,f?b:0);ot.O.thumbnailAdjustLastRowHeight&&g>0&&(l[r]=Math.min(l[r],g)),i[r]=a}else{t+=u;var d=Math.floor(ot.tn.settings.getH()*e/t);l[r]=d,p&&(h=Math.max(h,d)),f&&(b=Math.max(b,d)),i[r]=a,o=!0}s++}}),r=0,n=0,a=0,s=0,v.each(function(){var t=jQuery(this),o=t.data("index");if(void 0!==o&&void 0!=ot.I[o]){if(!(ot.I[o].thumbImg().width>0))return!1;var c=ot.I[o],h=Math.floor(c.thumbImg().width/c.thumbImg().height*l[r]);0==s&&ot.O.thumbnailFeatured&&(h=2*h,u=1==l.length?2*parseInt(l[0]):parseInt(l[0])+parseInt(l[1])+ot.tn.borderHeight+ot.tn.imgcBorderHeight),o==i[r]&&(i.length!=r+1?h=e-a-ot.tn.borderWidth-ot.tn.imgcBorderWidth:a+h+ot.tn.borderWidth+ot.tn.imgcBorderWidth+m>e&&(h=e-a-ot.tn.borderWidth-ot.tn.imgcBorderWidth));var b=0;0==s&&ot.O.thumbnailFeatured||(b=l[r]),b=parseInt(b),h=parseInt(h),t.width(h+ot.tn.imgcBorderWidth).height(b+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get()),c.$getElt(".imgContainer").height(b).width(h),t.find("img").css({"max-height":b+2,"max-width":h+2}),t.find(".subcontainer").width(h+ot.tn.imgcBorderWidth).height(b+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get());var p=a;ot.O.RTL&&(p=e-a-(h+ot.tn.borderWidth+ot.tn.imgcBorderWidth)),t.css({top:n,left:p}),c.thumbFullWidth=h+ot.tn.borderWidth+ot.tn.imgcBorderWidth,c.thumbFullHeight=b+ot.tn.borderHeight+ot.tn.imgcBorderHeight+ot.tn.labelHeight.get(),we(t),ae(t,c,s),a+=h+ot.tn.borderWidth+ot.tn.imgcBorderWidth+m,o==i[r]&&(n+=l[r]+ot.tn.labelHeight.get()+d+ot.tn.imgcBorderHeight+ot.tn.borderHeight,r++,a=0,1==r&&g>0&&(a=g,g=0)),s++}}),r>0&&(n-=d),u=u+ot.tn.outerHeight.get()+ot.tn.labelHeight.get(),ot.$E.conTn.width(e).height(n>u?n:u)}function ee(){var e=ot.tn.settings.getW()+ot.tn.borderWidth+ot.tn.imgcBorderWidth,t=ot.$E.conTnParent.width(),a=0;return a=Math.floor("justified"==ot.O.thumbnailAlignment?t/e:(t+ot.O.thumbnailGutterWidth)/(e+ot.O.thumbnailGutterWidth)),ot.O.maxItemsPerLine>0&&a>ot.O.maxItemsPerLine&&(a=ot.O.maxItemsPerLine),1>a&&(a=1),a}function te(){var e=0,t=0,a=0,n=ot.O.thumbnailGutterHeight,i=ot.$E.conTnParent.width(),r=ee(),l=0,o=0,s=0,u=[],c=0;ot.L.nbMaxTnPerRow=ee();var g=new Date;if(ot.pgMaxLinesPerPage>0&&ot.tn.outerWidth.get()>0&&r!=ot.pgMaxNbThumbnailsPerRow){ot.pgMaxNbThumbnailsPerRow=r;var m=ot.$E.conPagin.data("galleryIdx");return void ue(m,0)}var d=ot.$E.conTn.find(".nanoGalleryThumbnailContainer"),h=d.length;"justified"==ot.O.thumbnailAlignment?(r=Math.min(r,h),a=1==r?0:(i-r*ot.tn.outerWidth.get())/(r-1)):a=ot.O.thumbnailGutterWidth,ot.O.RTL&&(d.each(function(){var i=jQuery(this),l=i.data("index");if(void 0!==l){if(0!=t)return!1;e=c*(ot.tn.outerWidth.get()+a),u[c]=e,s=e,c++,c>=r&&(c=0,t+=ot.tn.outerHeight.get()+n)}}),i=s+ot.tn.outerWidth.get(),t=0,c=0);var b=[],p=0;d.each(function(){var g=jQuery(this),m=g.data("index");if(void 0!==m){p=m,0==t?(e=c*(ot.tn.outerWidth.get()+a),u[c]=e,s=e):(e=u[c],o=t);var d=e;ot.O.RTL&&(d=parseInt(i)-e-ot.tn.outerWidth.get()),b.push({$e:g,t:t,l:d,item:ot.I[m]}),c++,c>=r&&(c=0,t+=ot.tn.outerHeight.get()+n),l++}});for(var f=b.length,v=0;f>v;v++)b[v].$e.css({top:b[v].t,left:b[v].l}),ae(b[v].$e,b[v].item,v);b=[],ot.$E.conTn.width(s+ot.tn.outerWidth.get()).height(o+ot.tn.outerHeight.get()),ot.O.debugMode&&console.log("ResizeGalleryGrid: "+(new Date-g))}function ae(e,t,a){e.hasClass("nanogalleryHideElement")&&(e.removeClass("nanogalleryHideElement"),ot.O.thumbnailDisplayTransition?"function"==typeof ot.O.fnThumbnailDisplayEffect?ot.O.fnThumbnailDisplayEffect(e,t,0):setTimeout(function(){window.requestAnimationFrame(function(){ne(e)})},a*ot.tn.displayInterval):e.css({opacity:1}))}function ne(e){var t=new NGTweenable;t.tween({from:{o:0},to:{o:1},duration:200,step:function(t){e.css({opacity:t.o})},finish:function(t){e.css({opacity:t.o})}})}function ie(e){if(ot.O.galleryToolbarWidthAligned&&void 0!==ot.$E.conNavBCon){var t=ot.$E.conTn.outerWidth(!0);ot.$E.conNavBCon.width(ot.$E.conNavBCon.width()<t?t:t)}}function re(){var e=ot.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return nt(jQuery(this),ot.tn.lazyLoadTreshold)});jQuery(e).each(function(){var e=jQuery(this).find("img");if(e.attr("src")==ot.emptyGif){var t=jQuery(this).data("index");if(void 0==t||void 0==ot.I[t])return;e.attr("src",""),e.attr("src",ot.I[t].thumbImg().src)}})}function le(t,a){if(void 0!=ot.$E.conPagin){if(ot.$E.conPagin.children().remove(),0==ot.pgMaxLinesPerPage||"auto"==ot.tn.settings.getH()||"auto"==ot.tn.settings.getW())return void ot.$E.conPagin.hide();ot.$E.conPagin.show(),ot.$E.conPagin.data("galleryIdx",t),ot.$E.conPagin.data("currentPageNumber",a);var n=0,i=0;if(!ot.O.paginationDots&&a>0){var r=jQuery('<div class="paginationPrev">'+(ot.O.paginationDots?"":ot.i18nTranslations.paginationPrevious)+"</div>").appendTo(ot.$E.conPagin);i+=jQuery(r).outerWidth(!0),r.click(function(e){se()})}var l=0;if(ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()&&(n=Math.ceil(ot.I[t].contentLength/(ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow))),ot.O.paginationDots?l=0:a>=5?(l=a-5,n>a+6&&(n=a+6)):n>10&&(n=10),1==n)return void ot.$E.conPagin.hide();for(var o=l;n>o;o++){var s="";o==a&&(s=" currentPage");var u=jQuery('<div class="paginationItem'+s+'">'+(ot.O.paginationDots?"":o+1)+"</div>").appendTo(ot.$E.conPagin);u.data("pageNumber",o),i+=u.outerWidth(!0),u.click(function(t){var a=ot.$E.conPagin.data("galleryIdx"),n=jQuery(this).data("pageNumber");it(ot.$E.base,0)||e("html, body").animate({scrollTop:ot.$E.base.offset().top},200),ue(a,n)})}if(!ot.O.paginationDots&&n>a+1){var c=jQuery('<div class="paginationNext">'+(ot.O.paginationDots?"":ot.i18nTranslations.paginationNext)+"</div>").appendTo(ot.$E.conPagin);i+=c.outerWidth(!0),c.click(function(e){oe()})}ot.$E.conPagin.width(i)}}function oe(){var t=ot.$E.conPagin.data("galleryIdx"),a=0;ot.pgMaxLinesPerPage>0&&(a=ot.I[t].contentLength/(ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(a);var n=ot.$E.conPagin.data("currentPageNumber");n<n2-1?n++:n=0,it(ot.$E.base,0)||e("html, body").animate({scrollTop:ot.$E.base.offset().top},200),ue(t,n)}function se(){var t=ot.$E.conPagin.data("galleryIdx"),a=0;ot.pgMaxLinesPerPage>0&&(a=ot.I[t].contentLength/(ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(a);var n=ot.$E.conPagin.data("currentPageNumber");n>0?n--:n=n2-1,it(ot.$E.base,0)||e("html, body").animate({scrollTop:ot.$E.base.offset().top},250),ue(t,n)}function ue(e,t){ot.curAlbumIdx=-1,void 0==ot.$E.conPagin&&ot.$E.conPagin.children().remove();var a=ot.$E.conTn.parent(),n=new NGTweenable;n.tween({to:{opacity:0},from:{opacity:1},attachment:{$e:a},duration:150,step:function(e,t){t.$e.css(e)},finish:function(a,n){n.$e.css({opacity:0}),ot.containerThumbnailsDisplayed=!1,ot.$E.conTn.hide(0).off().show(0).html("");for(var i=ot.I.length,r=0;i>r;r++)ot.I[r].hovered=!1;ot.$E.conTnParent.css({left:0,opacity:1}),c(ot.$E.conTn[0],0),ce(e,t,ge)}})}function ce(e,t,a){if(ot.O.debugMode&&console.timeline&&console.timeline("nanoGALLERY"),ot.startDateTime=new Date,-1!=e&&void 0!=ot.I[e]){ot.I[e].paginationLastPage=t,ot.I[e].paginationLastWidth=ot.$E.conTnParent.width();var n=ot.I.length,i=!1;ot.galleryItemsCount=0;var r=0,l=0,o=0;ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()&&(l=t*ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow,o=l+ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow),X();var s=!1,u=!1,c=0;!function(){ot.toRender=[];for(var o=0;o<ot.O.galleryRenderStep;o++){if(c>=n)return void a(e,t);var g=ot.I[c];if(g.albumID==ot.I[e].GetID()){if(r++,ot.pgMaxLinesPerPage>0&&"auto"!=ot.tn.settings.getH()&&"auto"!=ot.tn.settings.getW()&&ot.galleryItemsCount+1>ot.pgMaxLinesPerPage*ot.pgMaxNbThumbnailsPerRow)return void a(e,t);if(r>l){ot.galleryItemsCount++;var m=me(g,c,i),d=m.e$;ot.O.thumbnailLazyLoad&&!m.cIS&&(s||(nt(d,ot.tn.lazyLoadTreshold)?(g.$getElt("img").attr("src",""),g.$getElt("img").attr("src",g.thumbImg().src),u=!0):u&&(s=!0)))}}c++}var h=ot.toRender.length;if(h>0)for(var o=0;h>o;o++);n>c?setTimeout(arguments.callee,2):a(e,t)}()}}function ge(e,t){Z(),le(e,t),ot.containerThumbnailsDisplayed=!0,ot.curAlbumIdx=e,"function"==typeof ot.O.fnInitGallery&&ot.O.fnInitGallery(e,t),ot.O.debugMode&&console.timeline&&(console.log("End-render: "+(new Date-ot.startDateTime)),console.timelineEnd("nanoGALLERY"))}function me(e,t,a){var n=[],i=0;e.$Elts=[];var l="",o=" nanogalleryHideElement";ot.O.thumbnailLazyLoad&&"auto"==ot.tn.settings.getW()&&(l="top:0px;left:0px;"),n[i++]='<div class="nanoGalleryThumbnailContainer'+o+' nGEvent" style="display:block;opacity:0;'+l+'" ><div class="subcontainer nGEvent" style="display:block;">';var s=!1,u=ot.emptyGif;("auto"==ot.tn.settings.getH()&&0==ot.I[t].thumbImg().height||"auto"==ot.tn.settings.getW()&&0==ot.I[t].thumbImg().width)&&(s=!0),(!ot.O.thumbnailLazyLoad||s)&&(u=e.thumbImg().src);var c=de(e),g=he(e);if("auto"==ot.tn.settings.getH()?n[i++]='<div class="imgContainer nGEvent" style="width:'+ot.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-width:'+ot.tn.settings.getW()+'px;"></div>':"auto"==ot.tn.settings.getW()?n[i++]='<div class="imgContainer nGEvent" style="height:'+ot.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-height:'+ot.tn.settings.getH()+'px;" ></div>':n[i++]='<div class="imgContainer nGEvent" style="width:'+ot.tn.settings.getW()+"px;height:"+ot.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-width:'+ot.tn.settings.getW()+"px;max-height:"+ot.tn.settings.getH()+'px;" ></div>',"album"==e.kind){if(1==ot.O.thumbnailLabel.get("display")){if(e.contentLength>0)switch(ot.O.thumbnailLabel.get("itemsCount")){case"title":c+=" "+ot.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+ot.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":g+=" "+ot.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+ot.i18nTranslations.thumbnailLabelItemsCountPart2}n[i++]='<div class="labelImage nGEvent" style="width:'+ot.tn.settings.getW()+"px;"+(ot.O.RTL?"direction:RTL;":"")+("l1"==ot.curNavLevel?ot.tn.styleL1LabelImage:ot.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+("l1"==ot.curNavLevel?ot.tn.styleL1FTitle:ot.tn.styleFTitle)+'">'+c+'</div><div class="labelDescription nGEvent" style="'+("l1"==ot.curNavLevel?ot.tn.styleL1Desc:ot.tn.styleDesc)+'">'+g+"</div></div>"}}else 1==ot.O.thumbnailLabel.get("display")&&(a&&0==g.length&&"onBottom"==ot.O.thumbnailLabel.get("position")&&(g="&nbsp;"),n[i++]='<div class="labelImage nGEvent" style="width:'+ot.tn.settings.getW()+"px;"+(ot.O.RTL?"direction:RTL;":"")+("l1"==ot.curNavLevel?ot.tn.styleL1LabelImage:ot.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+("l1"==ot.curNavLevel?ot.tn.styleL1ITitle:ot.tn.styleITitle)+'">'+c+'</div><div class="labelDescription nGEvent" style="'+("l1"==ot.curNavLevel?ot.tn.styleL1Desc:ot.tn.styleDesc)+'">'+g+"</div></div>");n[i++]="</div>",ot.O.itemsSelectable&&ot.O.showCheckboxes&&(n[i++]='<input class="ngChekbox" type="checkbox" style="position:absolute;z-index:999;'+ot.O.checkboxStyle+'">'),n[i++]="</div>";var m=jQuery(n.join("")).appendTo(ot.$E.conTnHid);e.$elt=m,m.data("index",t),e.$getElt("img").data("index",t),"function"==typeof ot.O.fnThumbnailInit&&ot.O.fnThumbnailInit(m,e,r());var d=m.detach();if(d.appendTo(ot.$E.conTn),s){var h=ngimagesLoaded(m);h.on("always",function(e){var t=ot.I[jQuery(e.images[0].img).data("index")];if(void 0!=t&&e.images[0].img.src!=ot.emptyGif){var a=!1;t.thumbImg().height!=e.images[0].img.naturalHeight&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),a=!0),t.thumbImg().width!=e.images[0].img.naturalWidth&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),a=!0),a&&(ye(t.$elt),fe(t.$elt,t),we(t.$elt),Z())}})}else ye(m),fe(m,e),we(m);return{e$:m,cIS:s}}function de(e){var t=e.title;return 1==ot.O.thumbnailLabel.get("display")&&((void 0===t||0==t.length)&&(t="&nbsp;"),""!=ot.i18nTranslations.thumbnailImageTitle&&(t=ot.i18nTranslations.thumbnailImageTitle),ot.O.thumbnailLabel.get("titleMaxLength")>3&&t.length>ot.O.thumbnailLabel.get("titleMaxLength")&&(t=t.substring(0,ot.O.thumbnailLabel.get("titleMaxLength"))+"...")),t}function he(e){var t="";return 1==ot.O.thumbnailLabel.get("displayDescription")&&(t="album"==e.kind?""!=ot.i18nTranslations.thumbnailImageDescription?ot.i18nTranslations.thumbnailAlbumDescription:e.description:""!=ot.i18nTranslations.thumbnailImageDescription?ot.i18nTranslations.thumbnailImageDescription:e.description,ot.O.thumbnailLabel.get("descriptionMaxLength")>3&&t.length>ot.O.thumbnailLabel.get("descriptionMaxLength")&&(t=t.substring(0,ot.O.thumbnailLabel.get("descriptionMaxLength"))+"...")),t}function be(e,t,a){var n=e.$elt,i=n.find("input[type=checkbox]");"undefined"==typeof t?e.selected=!e.selected:e.selected=t,a!==!1&&i.prop("checked",e.selected),e.selected?e.$getElt(".subcontainer").addClass("selected"):e.$getElt(".subcontainer").removeClass("selected"),pe(),"function"==typeof ot.O.fnThumbnailSelection&&ot.O.fnThumbnailSelection(n,e)}function pe(){ot.selectedItems=[];for(var e=ot.I.length,t=0;e>t;t++)ot.I[t].selected===!0&&ot.selectedItems.push(ot.I[t]);ot.selectedItems.length>0||ot.selectModeForce===!0?(ot.I.forEach(function(e){null===e.$elt||e.$elt.hasClass("selectable")||e.$elt.addClass("selectable");

}),ot.selectMode=!0):(ot.I.forEach(function(e){null!==e.$elt&&e.$elt.removeClass("selectable")}),ot.selectMode=!1),"function"==typeof ot.O.fnChangeSelectMode&&ot.O.fnChangeSelectMode(ot.selectMode)}function fe(e,t){if("auto"==ot.tn.settings.getH()){if(t.thumbImg().height>0){var a=t.thumbImg().height/t.thumbImg().width;t.$getElt(".imgContainer").height(ot.tn.settings.getW()*a),"onBottom"==ot.O.thumbnailLabel.get("position")?(t.thumbLabelHeight=t.$getElt(".labelImage").outerHeight(!0),t.thumbFullHeight=ot.tn.settings.getW()*a+t.thumbLabelHeight+ot.tn.borderHeight+ot.tn.imgcBorderHeight,e.width(ot.tn.outerWidth.get()-ot.tn.borderWidth).height(t.thumbFullHeight-ot.tn.borderHeight),t.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(t.thumbFullHeight=ot.tn.settings.getW()*a+t.thumbLabelHeight+ot.tn.borderHeight+ot.tn.imgcBorderHeight,e.width(ot.tn.outerWidth.get()-ot.tn.borderWidth).height(t.thumbFullHeight-ot.tn.borderHeight))}t.thumbFullWidth=ot.tn.outerWidth.get(),t.$getElt(".subcontainer").width(ot.tn.outerWidth.get()-ot.tn.borderWidth).height(t.thumbFullHeight-ot.tn.borderHeight)}else if("auto"==ot.tn.settings.getW()){return;var a}else t.thumbFullHeight=ot.tn.outerHeight.get(),t.thumbFullWidth=ot.tn.outerWidth.get(),e.width(t.thumbFullWidth-ot.tn.borderWidth).height("onBottom"==ot.O.thumbnailLabel.get("position")?t.thumbFullHeight-ot.tn.borderHeight:t.thumbFullHeight-ot.tn.borderHeight),t.$getElt(".subcontainer").width(t.thumbFullWidth-ot.tn.borderWidth).height(t.thumbFullHeight-ot.tn.borderHeight)}function ve(){for(var e=ot.I.length,t=0;e>t;t++)ot.I[t].hovered&&$e(ot.I[t].$elt)}function ye(e){var t=e.data("index");if(void 0!=t){var a=ot.I[t];for("function"==typeof ot.O.fnThumbnailHoverInit&&ot.O.fnThumbnailHoverInit(e,a,r()),xe(a),j=0;j<ot.tn.getHE().length;j++)switch(ot.tn.getHE()[j].name){case"imageSplit4":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage"),l=a.$getElt(".imgContainer");l.css({position:"absolute"}),n.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),n.prepend(l.clone()),n.prepend(a.$getElt(".imgContainer",!0).clone()),l=a.$getElt(".imgContainer",!0),rt("",l),Ee(a,"imgContainer0",l.eq(0)),Se(a,"imgContainer0"),Ee(a,"imgContainer1",l.eq(1)),Se(a,"imgContainer1"),Ee(a,"imgContainer2",l.eq(2)),Se(a,"imgContainer2"),Ee(a,"imgContainer3",l.eq(3)),Se(a,"imgContainer3");break;case"imageSplitVert":var n=a.$getElt(".subcontainer"),l=a.$getElt(".imgContainer");l.css({position:"absolute"}),n.css({overflow:"hidden",position:"relative"}),n.prepend(l.clone()),l=a.$getElt(".imgContainer",!0),rt("",l),Ee(a,"imgContainer0",l.eq(0)),Se(a,"imgContainer0"),Ee(a,"imgContainer1",l.eq(1)),Se(a,"imgContainer1");break;case"labelSplit4":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage").css({top:0,bottom:0});n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),a.$getElt(".labelImage",!0).clone().appendTo(n),i=a.$getElt(".labelImage",!0),Ee(a,"labelImage0",i.eq(0)),Se(a,"labelImage0"),Ee(a,"labelImage1",i.eq(1)),Se(a,"labelImage1"),Ee(a,"labelImage2",i.eq(2)),Se(a,"labelImage2"),Ee(a,"labelImage3",i.eq(3)),Se(a,"labelImage3");break;case"labelSplitVert":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=a.$getElt(".labelImage",!0),Ee(a,"labelImage0",i.eq(0)),Se(a,"labelImage0"),Ee(a,"labelImage1",i.eq(1)),Se(a,"labelImage1");break;case"labelAppearSplit4":var n=a.$getElt(".subcontainer");i=a.$getElt(".labelImage"),i.css({left:0,top:0,right:0,bottom:0}),n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),a.$getElt(".labelImage",!0).clone().appendTo(n),i=a.$getElt(".labelImage",!0);var o=Ee(a,"labelImage0",i.eq(0));o.translateX=-a.thumbFullWidth/2,o.translateY=-a.thumbFullHeight/2,Se(a,"labelImage0"),o=Ee(a,"labelImage1",i.eq(1)),o.translateX=a.thumbFullWidth/2,o.translateY=-a.thumbFullHeight/2,Se(a,"labelImage1"),o=Ee(a,"labelImage2",i.eq(2)),o.translateX=a.thumbFullWidth/2,o.translateY=a.thumbFullHeight/2,Se(a,"labelImage2"),o=Ee(a,"labelImage3",i.eq(3)),o.translateX=-a.thumbFullWidth/2,o.translateY=a.thumbFullHeight/2,Se(a,"labelImage3");break;case"labelAppearSplitVert":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=a.$getElt(".labelImage",!0),Ee(a,"labelImage0",i.eq(0)).translateX=-a.thumbFullWidth/2,Se(a,"labelImage0"),Ee(a,"labelImage1",i.eq(1)).translateX=a.thumbFullWidth/2,Se(a,"labelImage1");break;case"imageScale150Outside":ot.$E.base.css({overflow:"visible"}),ot.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),a.$getElt(".subcontainer").css({overflow:"visible"}),a.$getElt(".imgContainer").css({overflow:"visible"}),Ee(a,"img0",a.$getElt("img")),Se(a,"img0"),rt(a.$getElt(".imgContainer"),a.$getElt(".labelImage"));break;case"scale120":ot.$E.base.hasClass("fullpage")||ot.$E.base.css({overflow:"visible"}),ot.$E.conTn.css({overflow:"visible"}),Ee(a,"base",e),Se(a,"base");break;case"scaleLabelOverImage":var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");rt(s,u),u.css({opacity:0}),Ee(a,"labelImage0",u).scale=50,Se(a,"labelImage0"),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"overScale":e.css({overflow:"hidden"});var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");rt("",u),u.css({opacity:0}),s.css({opacity:1}),Ee(a,"labelImage0",u).scale=150,Se(a,"labelImage0"),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"overScaleOutside":ot.$E.base.hasClass("fullpage")||ot.$E.base.css({overflow:"visible"}),ot.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"});var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");rt("",u),u.css({opacity:0}),s.css({opacity:1}),Ee(a,"labelImage0",u).scale=150,Se(a,"labelImage0"),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"rotateCornerBL":e.css({overflow:"hidden"});var s=a.$getElt(".labelImage");s.css({opacity:1}),s[0].style[ot.CSStransformName+"Origin"]="100% 100%",Ee(a,"labelImage0",s).rotateZ=-90,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s[0].style[ot.CSStransformName+"Origin"]="100% 100%",Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"rotateCornerBR":e.css({overflow:"hidden"});var s=a.$getElt(".labelImage");s.css({opacity:1}),s[0].style[ot.CSStransformName+"Origin"]="0% 100%",Ee(a,"labelImage0",s).rotateZ=90,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s[0].style[ot.CSStransformName+"Origin"]="0 100%",Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"imageRotateCornerBL":var s=a.$getElt(".imgContainer");rt(e,s),e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({opacity:1}),s[0].style[ot.CSStransformName+"Origin"]="bottom right",Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"imageRotateCornerBR":var s=a.$getElt(".imgContainer");rt(e,s),e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({opacity:1}),s[0].style[ot.CSStransformName+"Origin"]="0 100%",Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"slideUp":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),Ee(a,"labelImage0",s).translateY=a.thumbFullHeight,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"slideDown":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),Ee(a,"labelImage0",s).translateY=-a.thumbFullHeight,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"slideRight":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),Ee(a,"labelImage0",s).translateX=-a.thumbFullWidth,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"slideLeft":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),Ee(a,"labelImage0",s).translateX=a.thumbFullWidth,Se(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":s=a.$getElt(".imgContainer"),rt(e,s),e.css({overflow:"visible"}),a.$getElt(".labelImage").css({opacity:1}),s.css({left:0,top:0}),Ee(a,"imgContainer0",s),Se(a,"imgContainer0");break;case"labelAppear":case"labelAppear75":var c="rgb("+ot.custGlobals.oldLabelRed+","+ot.custGlobals.oldLabelGreen+","+ot.custGlobals.oldLabelBlue+",0.01)";a.$getElt(".labelImage").css({backgroundColor:c}),"album"==a.kind?a.$getElt(".labelFolderTitle").css({opacity:0}):a.$getElt(".labelImageTitle").css({opacity:0}),a.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":a.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({top:0,bottom:0}),Ee(a,"labelImage0",a.$getElt(".labelImage")).translateY=a.thumbFullHeight,Se(a,"labelImage0");break;case"labelSlideUp":e.css({overflow:"hidden"}),Ee(a,"labelImage0",a.$getElt(".labelImage")).translateY=a.thumbFullHeight,Se(a,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),Ee(a,"labelImage0",a.$getElt(".labelImage")).translateY=-a.thumbFullHeight,Se(a,"labelImage0");break;case"descriptionSlideUp":e.css({overflow:"hidden"});var g="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0);a.$getElt(".labelDescription").css({opacity:0}),a.$getElt(".labelImage").css({height:g}),Ee(a,"labelImage0",a.$getElt(".labelImage")),Se(a,"labelImage0");break;case"imageExplode":rt("",e),rt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));for(var n=a.$getElt(".subcontainer"),t=7,l=(a.thumbFullHeight,a.$getElt(".imgContainer")),m=l.outerWidth(!0)/t,d=l.outerHeight(!0),d=l.outerHeight(!0)/t,h=0;t>h;h++)for(var c=0;t>c;c++){var b="rect("+d*h+"px, "+m*(c+1)+"px, "+d*(h+1)+"px, "+m*c+"px)";l.clone().appendTo(n).css({top:0,scale:1,clip:b,left:0,position:"absolute"}).data("ngScale",1)}l.remove();break;case"imageFlipHorizontal":switch(ot.O.thumbnailLabel.get("position")){case"overImageOnTop":a.$getElt(".labelImage").css({top:-ot.tn.imgcBorderHeight/2,bottom:ot.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":a.$getElt(".labelImage").css({top:-ot.tn.imgcBorderHeight/2,bottom:ot.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:a.$getElt(".labelImage").css({bottom:ot.tn.imgcBorderWidth/2,left:0,right:0})}ot.$E.base.hasClass("fullpage")||ot.$E.base.css({overflow:"visible"}),ot.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),rt("",e),rt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));var s=a.$getElt(".subcontainer");s.css({overflow:"visible"}),s[0].style[ot.CSStransformStyle]="preserve-3d";var t=Math.round(1.2*a.thumbFullHeight)+"px";s[0].style[ot.CSSperspective]=t,s=a.$getElt(".imgContainer"),s[0].style[ot.CSSbackfaceVisibilityName]="hidden",Ee(a,"imgContainer0",s),Se(a,"imgContainer0"),e.find(".image")[0].style[ot.CSSbackfaceVisibilityName]="hidden",s=a.$getElt(".labelImage"),s[0].style[ot.CSSbackfaceVisibilityName]="hidden",Ee(a,"labelImage0",s).rotateX=180,Se(a,"labelImage0");break;case"imageFlipVertical":switch(ot.O.thumbnailLabel.get("position")){case"overImageOnTop":a.$getElt(".labelImage").css({top:-ot.tn.imgcBorderHeight/2,bottom:ot.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":a.$getElt(".labelImage").css({top:-ot.tn.imgcBorderHeight/2,bottom:ot.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:a.$getElt(".labelImage").css({bottom:ot.tn.imgcBorderWidth/2,left:0,right:0})}ot.$E.base.hasClass("fullpage")||ot.$E.base.css({overflow:"visible"}),ot.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),rt("",e),rt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));var s=a.$getElt(".subcontainer");s.css({overflow:"visible"}),s[0].style[ot.CSStransformStyle]="preserve-3d";var t=Math.round(1.2*a.thumbFullWidth)+"px";s[0].style[ot.CSSperspective]=t,s=a.$getElt(".imgContainer"),s[0].style[ot.CSSbackfaceVisibilityName]="hidden",Ee(a,"imgContainer0",s),Se(a,"imgContainer0"),e.find(".image")[0].style[ot.CSSbackfaceVisibilityName]="hidden",s=a.$getElt(".labelImage"),s[0].style[ot.CSSbackfaceVisibilityName]="hidden",Ee(a,"labelImage0",s).rotateY=180,Se(a,"labelImage0");break;case"imageScale150":e.css({overflow:"hidden"}),Ee(a,"img0",a.$getElt("img")),Se(a,"img0");break;case"imageScaleIn80":e.css({overflow:"hidden"}),Ee(a,"img0",a.$getElt("img")).scale=120,Se(a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":e.css({overflow:"hidden"}),a.customData.hoverEffectRDir=ot.tn.getHE()[j].name,Ie(e,a);break;case"imageSlide2Random":e.css({overflow:"hidden"});var p=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];a.customData.hoverEffectRDir=p[Math.floor(Math.random()*p.length)],Ie(e,a)}a.hoverInitDone=!0}}function Ie(e,t){var a=t.thumbFullWidth,n=t.thumbFullHeight,i=Ee(t,"img0",t.$getElt("img"));switch(i.scale=140,t.customData.hoverEffectRDir){case"imageSlide2Up":i.translateY=t.thumbFullHeight<1.4*t.thumbImg().height?(1.4*t.thumbImg().height-t.thumbFullHeight)/2:0,i.translateX=t.thumbFullWidth<1.4*t.thumbImg().width?-(1.4*t.thumbImg().width-t.thumbFullWidth)/2:0;break;case"imageSlide2Down":var r=t.thumbFullHeight<1.4*t.thumbImg().height?Math.min((1.4*t.thumbImg().height-t.thumbFullHeight)/2*.1,.1*n):0;i.translateY=-r;var l=t.thumbFullWidth<1.4*t.thumbImg().width?Math.min((1.4*t.thumbImg().width-t.thumbFullWidth)/2*.1,.1*a):0;i.translateX=l;break;case"imageSlide2Left":i.translateY=.1*-n,i.translateX=.1*a;break;case"imageSlide2Right":i.translateY=.1*-n,i.translateX=.1*-a;break;case"imageSlide2UpRight":i.translateY=.05*n,i.translateX=.05*-a;break;case"imageSlide2UpLeft":i.translateY=.05*n,i.translateX=.05*a;break;case"imageSlide2DownRight":i.translateY=.05*-n,i.translateX=.05*-a;break;case"imageSlide2DownLeft":i.translateY=.05*-n,i.translateX=.05*a}Se(t,"img0")}function we(e){var t=e.data("index");if(void 0!=t){var a=ot.I[t];if(!a.hoverInitDone)return void ye(e);for("function"==typeof ot.O.fnThumbnailHoverResize&&ot.O.fnThumbnailHoverResize(e,a,r()),j=0;j<ot.tn.getHE().length;j++)switch(ot.tn.getHE()[j].name){case"imageSplit4":var n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight,l=a.$getElt(".imgContainer"),o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";l.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",l.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",l.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",l.eq(3).css({clip:o});break;case"imageSplitVert":var l=a.$getElt(".imgContainer"),n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight,o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";l.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",l.eq(1).css({clip:o});break;case"labelSplit4":var n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight,s=a.$getElt(".labelImage");o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)",s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",s.eq(3).css({clip:o});break;case"labelSplitVert":var n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight,s=a.$getElt(".labelImage"),o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o});break;case"labelAppearSplit4":var n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight;s=a.$getElt(".labelImage");var o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",s.eq(3).css({clip:o}),a.eltTransform.labelImage0.translateX=-a.thumbFullWidth/2,a.eltTransform.labelImage0.translateY=-a.thumbFullHeight/2,Se(a,"labelImage0"),a.eltTransform.labelImage1.translateX=a.thumbFullWidth/2,a.eltTransform.labelImage1.translateY=-a.thumbFullHeight/2,Se(a,"labelImage1"),a.eltTransform.labelImage2.translateX=a.thumbFullWidth/2,a.eltTransform.labelImage2.translateY=a.thumbFullHeight/2,Se(a,"labelImage2"),a.eltTransform.labelImage3.translateX=-a.thumbFullWidth/2,a.eltTransform.labelImage3.translateY=a.thumbFullHeight/2,Se(a,"labelImage3");break;case"labelAppearSplitVert":var n=a.thumbFullWidth-ot.tn.borderWidth-ot.tn.imgcBorderWidth,i=a.thumbFullHeight-ot.tn.borderHeight-ot.tn.imgcBorderHeight;s=a.$getElt(".labelImage");var o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),a.eltTransform.labelImage0.translateX=-a.thumbFullWidth/2,Se(a,"labelImage0"),a.eltTransform.labelImage1.translateX=a.thumbFullWidth/2,Se(a,"labelImage1");break;case"slideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,Se(a,"labelImage0");break;case"slideDown":a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,Se(a,"labelImage0");break;case"slideRight":a.eltTransform.labelImage0.translateX=-a.thumbFullWidth,Se(a,"labelImage0");break;case"slideLeft":a.eltTransform.labelImage0.translateX=a.thumbFullWidth,Se(a,"labelImage0");break;case"imageExplode":for(var l=(a.$getElt(".subcontainer"),a.$getElt(".imgContainer")),t=Math.sqrt(l.length),n=l.eq(0).outerWidth(!0)/t,i=l.eq(0).outerHeight(!0)/t,u=0;t>u;u++)for(var c=0;t>c;c++)var o="rect("+i*u+"px, "+n*(c+1)+"px, "+i*(u+1)+"px, "+n*c+"px)";break;case"imageFlipHorizontal":var g=a.$getElt(".subcontainer"),t=Math.round(1.2*a.thumbFullHeight)+"px";g[0].style[ot.CSSperspective]=t;break;case"imageFlipVertical":var g=a.$getElt(".subcontainer"),t=Math.round(1.2*a.thumbFullWidth)+"px";g[0].style[ot.CSSperspective]=t;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":Ie(e,a);break;case"slideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,Se(a,"labelImage0");break;case"slideDown":a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,Se(a,"labelImage0");break;case"slideRight":a.eltTransform.labelImage0.translateX=-a.thumbFullWidth,Se(a,"labelImage0");break;case"slideLeft":a.eltTransform.labelImage0.translateX=a.thumbFullWidth,Se(a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,Se(a,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,Se(a,"labelImage0");break;case"descriptionSlideUp":}}}function Ee(e,t,a){return void 0==e.eltTransform[t]&&(e.eltTransform[t]=Ce(),e.eltTransform[t].$elt=a),e.eltTransform[t]}function xe(e){for(var t in e.eltTransform)delete e.eltTransform[t]}function Ce(){var e={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100};return e}function Se(e,t){var a=e.eltTransform[t],n="translateX("+a.translateX+"px) translateY("+a.translateY+"px) scale("+a.scale/100+")";n+=ot.IE<=9||ot.isGingerbread?" rotate("+a.rotateZ+"deg)":" rotateX("+a.rotateX+"deg) rotateY("+a.rotateY+"deg) rotateZ("+a.rotateZ+"deg)",void 0!=a.$elt[0]&&(a.$elt[0].style[ot.CSStransformName]=n)}function ke(e,t,a,n,i){var r=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==ot.aengine)for(var l=0;l<r.length;l++){var o=r[l];if("undefined"!=typeof a[o]){var s=new NGTweenable,u=parseInt(a[o]);s.tween({attachment:{it:n,eC:i,t:o,f:u},from:{v:parseInt(n.eltTransform[i][o])},to:{v:u},duration:ot.tn.getHE()[t].duration,delay:ot.tn.getHE()[t].delay,step:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=e.v,Se(t.it,t.eC))},finish:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=t.f,Se(t.it,t.eC))}}),delete a[o]}}var c=0;for(var g in a)if(a.hasOwnProperty(g)){c++;break}if(0!=c)if("transition"!=ot.aengine){var m={};for(var g in a)"borderColor"==g?m[g]=e.css("borderTopColor"):m[g]=e.css(g),"transparent"==m[g]&&(e.hasClass("labelImage")?m[g]="rgb("+ot.custGlobals.oldLabelRed+","+ot.custGlobals.oldLabelGreen+","+ot.custGlobals.oldLabelBlue+",0.01)":m[g]="rgba(0,0,0,0)");var s=new NGTweenable;s.tween({attachment:{$e:e,it:n,to:a},from:m,to:a,duration:ot.tn.getHE()[t].duration,delay:ot.tn.getHE()[t].delay,step:function(e,t){t.it.hovered&&t.$e.css(e)},finish:function(e,t){t.it.hovered&&t.$e.css(a)}})}else ot.tn.getHE()[t].delay>0?e.delay(ot.tn.getHE()[t].delay)[ot.aengine](a,ot.tn.getHE()[t].duration,ot.tn.getHE()[t].easing):e[ot.aengine](a,ot.tn.getHE()[t].duration,ot.tn.getHE()[t].easing)}function Le(e){var t=e.data("index");if(void 0!=t){"velocity"==ot.aengine?e.find("*").velocity("stop",!0):e.find("*").stop(!0,!1);var a=ot.I[t];a.hovered=!0;var n="animate"==ot.aengine?1:100;"function"==typeof ot.O.fnThumbnailHover&&ot.O.fnThumbnailHover(e,a,r());try{for(j=0;j<ot.tn.getHE().length;j++)switch(ot.tn.getHE()[j].name){case"imageSplit4":var i=a.$getElt(".imgContainer");ke(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"imgContainer0"),ke(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"imgContainer1"),ke(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"imgContainer2"),ke(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"imgContainer3");break;case"imageSplitVert":var i=a.$getElt(".imgContainer");ke(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"imgContainer0"),ke(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"imgContainer1");break;case"labelSplit4":var i=a.$getElt(".labelImage");ke(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage0"),ke(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage1"),ke(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage2"),ke(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage3");break;case"labelSplitVert":var i=a.$getElt(".labelImage");ke(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"labelImage0"),ke(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"labelImage1");break;case"labelAppearSplit4":var i=a.$getElt(".labelImage");ke(i.eq(0),j,{translateX:0,translateY:0},a,"labelImage0"),ke(i.eq(1),j,{translateX:0,translateY:0},a,"labelImage1"),ke(i.eq(2),j,{translateX:0,translateY:0},a,"labelImage2"),ke(i.eq(3),j,{translateX:0,translateY:0},a,"labelImage3");break;case"labelAppearSplitVert":var i=a.$getElt(".labelImage");ke(i.eq(0),j,{translateX:0},a,"labelImage0"),ke(i.eq(1),j,{translateX:0},a,"labelImage1");break;case"scaleLabelOverImage":ke(a.$getElt(".labelImage"),j,{scale:100/n,opacity:"1"},a,"labelImage0"),ke(a.$getElt(".imgContainer"),j,{scale:50/n},a,"imgContainer0");break;case"overScale":case"overScaleOutside":ke(a.$getElt(".labelImage"),j,{opacity:"1",scale:100/n},a,"labelImage0"),ke(a.$getElt(".imgContainer"),j,{opacity:"0",scale:50/n},a,"imgContainer0");break;case"imageInvisible":ke(a.$getElt(".imgContainer"),j,{opacity:"0"},a);break;case"rotateCornerBL":var l="transition"==ot.aengine?{rotate:"0deg"}:{rotateZ:"0"};ke(a.$getElt(".labelImage"),j,l,a,"labelImage0"),l="transition"==ot.aengine?{rotate:"90deg"}:{rotateZ:"90"},ke(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"rotateCornerBR":var l="transition"==ot.aengine?{rotate:"0deg"}:{rotateZ:"0"};ke(a.$getElt(".labelImage"),j,l,a,"labelImage0"),l="transition"==ot.aengine?{rotate:"-90deg"}:{rotateZ:"-90"},ke(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"imageRotateCornerBL":var l="transition"==ot.aengine?{rotate:"90deg"}:{rotateZ:"90"};ke(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"imageRotateCornerBR":var l="transition"==ot.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};ke(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"slideUp":ke(a.$getElt(".imgContainer"),j,{translateY:-a.thumbFullHeight},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"slideDown":ke(a.$getElt(".imgContainer"),j,{translateY:a.thumbFullHeight},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"slideRight":ke(a.$getElt(".imgContainer"),j,{translateX:a.thumbFullWidth},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{translateX:0},a,"labelImage0");break;case"slideLeft":ke(a.$getElt(".imgContainer"),j,{translateX:-a.thumbFullWidth},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{translateX:0},a,"labelImage0");break;case"imageSlideUp":ke(a.$getElt(".imgContainer"),j,{translateY:-a.thumbFullHeight},a,"imgContainer0");break;case"imageSlideDown":ke(a.$getElt(".imgContainer"),j,{translateY:a.thumbFullHeight},a,"imgContainer0");break;case"imageSlideLeft":ke(a.$getElt(".imgContainer"),j,{translateX:-a.thumbFullWidth},a,"imgContainer0");break;case"imageSlideRight":ke(a.$getElt(".imgContainer"),j,{translateX:a.thumbFullWidth},a,"imgContainer0");break;case"labelAppear":if("velocity"==ot.aengine)ke(a.$getElt(".labelImage"),j,{backgroundColorRed:ot.custGlobals.oldLabelRed,backgroundColorGreen:ot.custGlobals.oldLabelGreen,backgroundColorBlue:ot.custGlobals.oldLabelBlue,backgroundColorAlpha:1},a);else{var o="rgba("+ot.custGlobals.oldLabelRed+","+ot.custGlobals.oldLabelGreen+","+ot.custGlobals.oldLabelBlue+",0.99)";ke(a.$getElt(".labelImage"),j,{backgroundColor:o},a)}"album"==a.kind?ke(a.$getElt(".labelFolderTitle"),j,{opacity:"1"},a):ke(a.$getElt(".labelImageTitle"),j,{opacity:"1"},a),ke(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelAppear75":if("velocity"==ot.aengine)ke(a.$getElt(".labelImage"),j,{backgroundColorRed:ot.custGlobals.oldLabelRed,backgroundColorGreen:ot.custGlobals.oldLabelGreen,backgroundColorBlue:ot.custGlobals.oldLabelBlue,backgroundColorAlpha:.75},a);else{var o="rgba("+ot.custGlobals.oldLabelRed+","+ot.custGlobals.oldLabelGreen+","+ot.custGlobals.oldLabelBlue+",0.75)";ke(a.$getElt(".labelImage"),j,{backgroundColor:o},a)}"album"==a.kind?ke(a.$getElt(".labelFolderTitle"),j,{opacity:"1"},a):ke(a.$getElt(".labelImageTitle"),j,{opacity:"1"},a),ke(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"descriptionAppear":ke(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelSlideDown":ke(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":ke(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"descriptionSlideUp":var s="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0),u=a.$getElt(".labelDescription").outerHeight(!0),c=a.thumbFullHeight-s-u;0>c&&(c=0),ke(a.$getElt(".labelImage"),j,{translateY:0,height:s+u},a,"labelImage0"),ke(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelOpacity50":ke(a.$getElt(".labelImage"),j,{opacity:"0.5"},a);break;case"imageOpacity50":ke(a.$getElt(".imgContainer"),j,{opacity:"0.5"},a);break;case"borderLighter":if("velocity"==ot.aengine){var g=gt(ot.custGlobals.oldBorderColor,.5),m=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(/,\s*/);ke(e,j,{borderColorRed:m[0],borderColorGreen:m[1],borderColorBlue:m[2],colorAlpha:m[3]},a)}else{var o=e.css("borderTopColor");e.data("ngcache_borderColor",o),ke(e,j,{borderColor:gt(o,.5)},a)}break;case"borderDarker":if("velocity"==ot.aengine){var g=mt(ot.custGlobals.oldBorderColor,.5),m=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(/,\s*/);ke(e,j,{borderColorRed:m[0],borderColorGreen:m[1],borderColorBlue:m[2],colorAlpha:m[3]},a)}else{var o=e.css("borderTopColor");e.data("ngcache_borderColor",o),ke(e,j,{borderColor:mt(o,.5)},a)}break;case"imageScale150":ke(a.$getElt("img"),j,{scale:150/n},a,"img0");break;case"imageScaleIn80":ke(a.$getElt("img"),j,{scale:100/n},a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(a.customData.hoverEffectRDir){case"imageSlide2Up":var d=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;ke(a.$getElt("img"),j,{translateY:-d},a,"img0");break;case"imageSlide2Down":var d=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;ke(a.$getElt("img"),j,{translateY:d},a,"img0");break;case"imageSlide2Left":ke(a.$getElt("img"),j,{translateX:.1*-a.thumbFullWidth},a,"img0");break;case"imageSlide2Right":ke(a.$getElt("img"),j,{translateX:.1*a.thumbFullWidth},a,"img0");break;case"imageSlide2UpRight":ke(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2UpLeft":ke(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2DownRight":ke(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2DownLeft":ke(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0")}break;case"imageScale150Outside":rt("",e),ke(a.$getElt("img"),j,{scale:150/n},a,"img0");break;case"scale120":rt("",e),ke(e,j,{scale:120/n},a,"base");break;case"imageExplode":rt("",e);var h=a.$getElt(".imgContainer");t=Math.sqrt(h.length);for(var b=[],p=0;p<=Math.PI;p+=Math.PI/(t-1))b.push(Math.sin(p));for(var f=h.outerWidth(!0)/t,v=h.outerHeight(!0)/t,p=0,l=0;t>l;l++)for(var o=0;t>o;o++)ke(h.eq(p++),j,{top:(-v*t/3+v*l-v)*b[o],left:(-f*t/3+f*o-f)*b[l],scale:1.5,opacity:0},a);break;case"imageFlipHorizontal":rt("",e),ke(a.$getElt(".imgContainer"),j,{rotateX:180},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{rotateX:360},a,"labelImage0");break;case"imageFlipVertical":rt("",e),ke(a.$getElt(".imgContainer"),j,{rotateY:180},a,"imgContainer0"),ke(a.$getElt(".labelImage"),j,{rotateY:360},a,"labelImage0");break;case"TEST":}}catch(y){et("error on hover "+y.message)}}}function Oe(e,t,a,n,i){var r=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==ot.aengine)for(var l=0;l<r.length;l++){var o=r[l];if("undefined"!=typeof a[o]){var s=new NGTweenable,u=parseInt(a[o]);s.tween({attachment:{it:n,eC:i,t:o,f:u},from:{v:parseInt(n.eltTransform[i][o])},to:{v:u},duration:ot.tn.getHE()[t].durationBack,delay:ot.tn.getHE()[t].delayBack,step:function(e,t){t.it.eltTransform[t.eC][t.t]=e.v,Se(t.it,t.eC)},finish:function(e,t){t.it.eltTransform[t.eC][t.t]=t.f,Se(t.it,t.eC)}}),delete a[o]}}var c=0;for(var g in a)if(a.hasOwnProperty(g)){c++;break}if(0!=c)if("transition"!=ot.aengine){var m={};for(var g in a)"borderColor"==g?m[g]=e.css("borderTopColor"):(m[g]=e.css(g),"transparent"==m[g]&&(m[g]="rgba(0,0,0,0.01)"));var s=new NGTweenable;s.tween({attachment:{$e:e,it:n,to:a},from:m,to:a,duration:ot.tn.getHE()[t].durationBack,delay:ot.tn.getHE()[t].delayBack,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css(t.to)}})}else ot.tn.getHE()[t].delay>0?e.delay(ot.tn.getHE()[t].delay)[ot.aengine](a,ot.tn.getHE()[t].durationBack,ot.tn.getHE()[t].easingBack):e[ot.aengine](a,ot.tn.getHE()[t].durationBack,ot.tn.getHE()[t].easingBack);

}function $e(e){if(!ot.containerViewerDisplayed){var t=e.data("index");if(void 0!=t){"velocity"==ot.aengine?e.find("*").velocity("stop",!0):e.find("*").filter(":animated").stop(!0,!1);var a=ot.I[t];a.hovered=!1;var n="animate"==ot.aengine?1:100;"function"==typeof ot.O.fnThumbnailHoverOut&&ot.O.fnThumbnailHoverOut(e,a,r());try{for(j=0;j<ot.tn.getHE().length;j++)switch(ot.tn.getHE()[j].name){case"imageSplit4":var i=a.$getElt(".imgContainer");Oe(i.eq(0),j,{translateX:0,translateY:0},a,"imgContainer0"),Oe(i.eq(1),j,{translateX:0,translateY:0},a,"imgContainer1"),Oe(i.eq(2),j,{translateX:0,translateY:0},a,"imgContainer2"),Oe(i.eq(3),j,{translateX:0,translateY:0},a,"imgContainer3");break;case"imageSplitVert":var i=a.$getElt(".imgContainer");Oe(i.eq(0),j,{translateX:0},a,"imgContainer0"),Oe(i.eq(1),j,{translateX:0},a,"imgContainer1");break;case"labelSplit4":var i=a.$getElt(".labelImage");Oe(i.eq(0),j,{translateX:0,translateY:0},a,"labelImage0"),Oe(i.eq(1),j,{translateX:0,translateY:0},a,"labelImage1"),Oe(i.eq(2),j,{translateX:0,translateY:0},a,"labelImage2"),Oe(i.eq(3),j,{translateX:0,translateY:0},a,"labelImage3");break;case"labelSplitVert":var i=a.$getElt(".labelImage");Oe(i.eq(0),j,{translateX:0},a,"labelImage0"),Oe(i.eq(1),j,{translateX:0},a,"labelImage1");break;case"labelAppearSplit4":var i=a.$getElt(".labelImage");Oe(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage0"),Oe(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage1"),Oe(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage2"),Oe(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage3");break;case"labelAppearSplitVert":var i=a.$getElt(".labelImage");Oe(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"labelImage0"),Oe(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"labelImage1");break;case"scaleLabelOverImage":Oe(a.$getElt(".labelImage"),j,{opacity:"0",scale:50/n},a,"labelImage0"),Oe(a.$getElt(".imgContainer"),j,{scale:100/n},a,"imgContainer0");break;case"overScale":case"overScaleOutside":Oe(a.$getElt(".labelImage"),j,{opacity:"0",scale:150/n},a,"labelImage0"),Oe(a.$getElt(".imgContainer"),j,{opacity:"1",scale:100/n},a,"imgContainer0");break;case"imageInvisible":Oe(a.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var l="transition"==ot.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};Oe(a.$getElt(".labelImage"),j,l,a,"labelImage0"),l="transition"==ot.aengine?{rotate:"0deg"}:{rotateZ:"0"},Oe(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"rotateCornerBR":var l="transition"==ot.aengine?{rotate:"90deg"}:{rotateZ:"90"};Oe(a.$getElt(".labelImage"),j,l,a,"labelImage0"),l="transition"==ot.aengine?{rotate:"0deg"}:{rotateZ:"0"},Oe(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":var l="transition"==ot.aengine?{rotate:"0deg"}:{rotateZ:"0"};Oe(a.$getElt(".imgContainer"),j,l,a,"imgContainer0");break;case"slideUp":Oe(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{translateY:a.thumbFullHeight},a,"labelImage0");break;case"slideDown":Oe(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{translateY:-a.thumbFullHeight},a,"labelImage0");break;case"slideRight":Oe(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{translateX:-a.thumbFullWidth},a,"labelImage0");break;case"slideLeft":Oe(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{translateX:a.thumbFullWidth},a,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":Oe(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":Oe(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0");break;case"labelAppear":case"labelAppear75":if("velocity"==ot.aengine)Oe(a.$getElt(".labelImage"),j,{backgroundColorRed:ot.custGlobals.oldLabelRed,backgroundColorGreen:ot.custGlobals.oldLabelGreen,backgroundColorBlue:ot.custGlobals.oldLabelBlue,backgroundColorAlpha:0});else{var o="rgba("+ot.custGlobals.oldLabelRed+","+ot.custGlobals.oldLabelGreen+","+ot.custGlobals.oldLabelBlue+",0.01)";Oe(a.$getElt(".labelImage"),j,{backgroundColor:o})}"album"==a.kind?Oe(a.$getElt(".labelFolderTitle"),j,{opacity:"0"}):Oe(a.$getElt(".labelImageTitle"),j,{opacity:"0"}),Oe(a.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":Oe(a.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":Oe(a.$getElt(".labelImage"),j,{translateY:-a.thumbFullHeight},a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":Oe(a.$getElt(".labelImage"),j,{translateY:a.thumbFullHeight},a,"labelImage0");break;case"descriptionSlideUp":{var s="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0);a.thumbFullHeight-s-ot.tn.borderHeight-ot.tn.imgcBorderHeight}Oe(a.$getElt(".labelImage"),j,{translateY:0,height:s},a,"labelImage0");break;case"labelOpacity50":Oe(a.$getElt(".labelImage"),j,{opacity:ot.custGlobals.oldLabelOpacity});break;case"imageOpacity50":Oe(a.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if("velocity"==ot.aengine){var u=ot.custGlobals.oldBorderColor,c=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(/,\s*/);Oe(e,j,{borderColorRed:c[0],borderColorGreen:c[1],borderColorBlue:c[2],colorAlpha:c[3]})}else Oe(e,j,{borderColor:e.data("ngcache_borderColor")});break;case"imageScale150":case"imageScale150Outside":Oe(a.$getElt("img"),j,{scale:100/n},a,"img0");break;case"imageScaleIn80":Oe(a.$getElt("img"),j,{scale:120/n},a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(a.customData.hoverEffectRDir){case"imageSlide2Up":var g=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;Oe(a.$getElt("img"),j,{translateY:g},a,"img0");break;case"imageSlide2Down":var g=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;Oe(a.$getElt("img"),j,{translateY:-g},a,"img0");break;case"imageSlide2Left":Oe(a.$getElt("img"),j,{translateX:.1*a.thumbFullWidth},a,"img0");break;case"imageSlide2Right":Oe(a.$getElt("img"),j,{translateX:.1*-a.thumbFullWidth},a,"img0");break;case"imageSlide2UpRight":Oe(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2UpLeft":Oe(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2DownRight":Oe(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2DownLeft":Oe(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0")}break;case"scale120":Oe(e,j,{scale:100/n},a,"base");break;case"imageExplode":var m=a.$getElt(".imgContainer");t=Math.sqrt(m.length);for(var d=0,l=0;t>l;l++)for(var o=0;t>o;o++)Oe(m.eq(d++),j,{top:"0",left:"0",scale:"1",opacity:"1"});break;case"imageFlipHorizontal":Oe(a.$getElt(".imgContainer"),j,{rotateX:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{rotateX:180},a,"labelImage0");break;case"imageFlipVertical":Oe(a.$getElt(".imgContainer"),j,{rotateY:0},a,"imgContainer0"),Oe(a.$getElt(".labelImage"),j,{rotateY:180},a,"labelImage0");break;case"TEST":}}catch(h){et("error on hoverOut "+h.message)}}}}function Te(e){"fancybox"==ot.O.viewer?Ze(e):ot.containerViewerDisplayed?Qe(e,""):De(e)}function De(e){jQuery("body").css({overflow:"hidden"}),ot.containerViewerDisplayed=!0,ot.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),ot.$E.conVwCon.addClass("nanogallery_theme_"+ot.O.theme),Je(ot.$E.conVwCon),ot.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(ot.$E.conVwCon),ot.$E.conVw.css({visibility:"visible",position:"fixed"}),ot.$E.conVw.css({msTouchAction:"none",touchAction:"none"});{var t="";ot.I.length}t+='<img class="image nGEvent" src="'+ot.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="'+ot.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="'+ot.I[e].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',ot.$E.vwContent=jQuery('<div class="content nGEvent">'+t+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(ot.$E.conVw),ot.$E.vwImgP=ot.$E.conVw.find(".image").eq(0),ot.$E.vwImgC=ot.$E.conVw.find(".image").eq(1),ot.$E.vwImgN=ot.$E.conVw.find(".image").eq(2),ot.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var a=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(ot.$E.conVw);a.on("touchstart click",function(e){return e.preventDefault(),e.stopPropagation(),(new Date).getTime()-ot.timeImgChanged<400?void 0:(Xe(!0),!1)});for(var n='<div class="toolbarContainer nGEvent" style="visibility:'+(ot.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">',i=ot.O.viewerToolbar.standard.split(","),l=0,o=i.length;o>l;l++)n+=je(i[l]);for(var s=ot.O.viewerToolbar.minimized.split(","),l=0,u=s.length;u>l;l++)-1==ot.O.viewerToolbar.standard.indexOf(s[l])&&(n+=je(s[l]));n+="</div></div>",ot.$E.conVwTb=jQuery(n).appendTo(ot.$E.conVw),"min"==ot.toolbarMode||ot.O.viewerToolbar.autoMinimize>0&&ot.O.viewerToolbar.autoMinimize>=at().w?Ne():Pe(),ot.O.viewerFullscreen&&(ot.viewerIsFullscreen=!0,ot.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"),ngscreenfull.request()),ot.O.viewerDisplayLogo&&(ot.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(ot.$E.conVw)),rt("",ot.$E.conVw),rt(ot.$E.conVw,a),Ye(),ot.timeImgChanged=(new Date).getTime(),ot.$E.conVwTb.find(".closeButton").on("touchstart click",function(e){e.preventDefault(),e.stopPropagation(),(new Date).getTime()-ot.timeImgChanged<400||Xe(!0)}),ot.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(e){e.stopPropagation(),_e()}),ot.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(e){e.stopPropagation(),Ge()}),ot.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(e){e.stopPropagation(),Fe()}),ot.$E.conVwTb.find(".infoButton").on("touchstart click",function(e){e.stopPropagation(),"function"==typeof ot.O.fnViewerInfo&&ot.O.fnViewerInfo(ot.I[ot.viewerCurrentItemIdx],r())}),ot.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(e){if(e.stopPropagation(),"function"==typeof ot.O.fnImgToolbarCustClick){for(var t=e.target||e.srcElement;null==t||null==t.getAttribute("class")||-1==t.getAttribute("class").indexOf("ngCustomBtn");)t=t.parentNode;var a=t.getAttribute("class");if(a.indexOf("ngCustomBtn")>=0)for(var n=a.split(" "),i=0,l=n.length;l>i;i++)0==n[i].indexOf("custom")&&ot.O.fnImgToolbarCustClick(n[i],jQuery(t),ot.I[ot.viewerCurrentItemIdx],r())}}),ot.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(e){if(e.stopPropagation(),"picasa"==ot.O.kind){var t="https://plus.google.com/photos/"+ot.O.userID+"/albums/"+ot.I[ot.viewerCurrentItemIdx].albumID+"/"+ot.I[ot.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}if("flickr"==ot.O.kind){var t="https://www.flickr.com/photos/"+ot.O.userID+"/"+ot.I[ot.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}}),ot.$E.conVwTb.find(".nextButton").on("touchstart click",function(e){e.stopPropagation(),We()}),ot.$E.conVwTb.find(".previousButton").on("touchstart click",function(e){e.stopPropagation(),Re()}),ot.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(e){e.stopPropagation(),We()}),ot.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(e){e.stopPropagation(),Re()}),ot.$E.vwContent.on("click",function(e){return(new Date).getTime()-ot.timeImgChanged<400?void 0:(e.preventDefault(),e.stopPropagation(),Xe(!0),!1)}),ot.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"}),Qe(e,""),null==ot.viewerSwipe&&(ot.viewerSwipe=new Be(ot.$E.conVwCon[0])),ot.O.slideshowAutoStart&&(ot.playSlideshow=!0,ot.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Ae(),ot.playSlideshowTimerID=window.setInterval(function(){Ae()},ot.slideshowDelay))}function je(e){var t="",a=e.replace(/^\s+|\s+$/g,"");switch(a){case"minimizeButton":t='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":t='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":t='<div class="pageCounter nGEvent"></div>';break;case"nextButton":t='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":t='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":ot.supportFullscreenAPI&&(t='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>');break;case"infoButton":"function"==typeof ot.O.fnViewerInfo&&(t='<div class="ngbt infoButton nGEvent"></div>');break;case"linkOriginalButton":("flickr"==ot.O.kind||"picasa"==ot.O.kind)&&(t='<div class="ngbt linkOriginalButton nGEvent"></div>');break;case"closeButton":t='<div class="ngbt closeButton nGEvent"></div>';break;case"label":t='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:0==a.indexOf("custom")&&(t='<div class="ngbt ngCustomBtn '+a+' nGEvent">'+("function"==typeof ot.O.fnImgToolbarCustInit?ot.O.fnImgToolbarCustInit(a):"")+"</div>")}return t}function Be(e){function t(e){ot.containerViewerDisplayed&&(ot.timeLastTouchStart=(new Date).getTime(),e.preventDefault(),e.touches&&e.touches.length>1||(u=r(e),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",a,!0),document.addEventListener("MSPointerUp",n,!0)):(document.addEventListener("touchmove",a,!0),document.addEventListener("touchend",n,!0),document.addEventListener("touchcancel",n,!0),document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",n,!0))))}function a(e){e.preventDefault(),c=r(e),s||(s=!0,window.requestAnimationFrame(l))}function n(e){e.cancelable&&e.preventDefault(),e.touches&&e.touches.length>0||(s=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",a,!0),document.removeEventListener("MSPointerUp",n,!0)):(document.removeEventListener("touchmove",a,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("touchcancel",n,!0),document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",n,!0)),i())}function i(){if(null==c)return g=0,void(u=null);var e=u.x-c.x;g-=e,-50>e&&Re(),e>50&&We(),g=0,u=null,c=null,Math.abs(e)<50&&He(g)}function r(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function l(){if(s){var e=u.x-c.x;He(g-e),s=!1}}var o=e,s=!1,u=null,c=null,g=0;this.removeEventListeners=function(){window.navigator.msPointerEnabled?(o.removeEventListener("MSPointerDown",t,!0),document.removeEventListener("MSPointerMove",a,!0),document.removeEventListener("MSPointerUp",n,!0)):(o.removeEventListener("touchstart",t,!0),document.removeEventListener("touchmove",a,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("touchcancel",n,!0),document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",n,!0))},window.navigator.msPointerEnabled?o.addEventListener("MSPointerDown",t,!0):o.addEventListener("touchstart",t,!0)}function He(e){if(ot.imageSwipePosX=e,null==ot.CSStransformName)ot.$E.vwImgC.css({left:e});else if(ot.$E.vwImgC[0].style[ot.CSStransformName]="translateX("+e+"px)","slide"==ot.O.imageTransition)if(e>0){var t=(ot.$E.vwImgP,at().w);ot.$E.vwImgP.css({visibility:"visible",left:0,opacity:1}),ot.$E.vwImgP[0].style[ot.CSStransformName]="translateX("+(-t+e)+"px) ",ot.$E.vwImgN[0].style[ot.CSStransformName]="translateX("+-t+"px) "}else{var t=(ot.$E.vwImgN,-at().w);ot.$E.vwImgN.css({visibility:"visible",left:0,opacity:1}),ot.$E.vwImgN[0].style[ot.CSStransformName]="translateX("+(-t+e)+"px) ",ot.$E.vwImgP[0].style[ot.CSStransformName]="translateX("+-t+"px) "}}function Fe(){ngscreenfull.enabled&&(ngscreenfull.toggle(),ot.viewerIsFullscreen?(ot.viewerIsFullscreen=!1,ot.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(ot.viewerIsFullscreen=!0,ot.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")))}function _e(){ot.playSlideshow?(window.clearInterval(ot.playSlideshowTimerID),ot.playSlideshow=!1,ot.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ot.playSlideshow=!0,ot.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Ae(),ot.playSlideshowTimerID=window.setInterval(function(){Ae()},ot.slideshowDelay))}function Ge(){"std"==ot.toolbarMode?Ne():Pe()}function Pe(){ot.toolbarMode="std",ot.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton"),Me("std"),Ye()}function Ne(){ot.toolbarMode="min",ot.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton"),Me("min"),Ye()}function Me(e){for(var t=ot.O.viewerToolbar,t="std"==e?ot.O.viewerToolbar.standard:ot.O.viewerToolbar.minimized,a=["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"],n=0,i=a.length;i>n;n++)ot.$E.conVwTb.find("."+a[n]).css("label"==a[n]?""==ot.$E.conVwTb.find(".title").text()&&""==ot.$E.conVwTb.find(".description").text()?{display:"none"}:{display:t.indexOf(a[n])>=0?"table-cell":"none"}:{display:t.indexOf(a[n])>=0?"table-cell":"none"});ot.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});for(var r=t.split(","),n=0,i=r.length;i>n;n++){var l=r[n].replace(/^\s+|\s+$/g,"");0==l.indexOf("custom")&&ot.$E.conVwTb.find("."+l).css({display:"table-cell"})}}function We(){ot.playSlideshow&&(window.clearInterval(ot.playSlideshowTimerID),ot.playSlideshowTimerID=window.setInterval(function(){Ae()},ot.slideshowDelay)),Ae()}function Ae(){if(!(ot.viewerImageIsChanged||(new Date).getTime()-ot.timeImgChanged<300)){var e=(ot.I.length,Ue(ot.viewerCurrentItemIdx));Qe(e,"nextImage")}}function Re(){if(!(ot.viewerImageIsChanged||(new Date).getTime()-ot.timeImgChanged<300)){ot.playSlideshow&&_e();var e=qe(ot.viewerCurrentItemIdx);Qe(e,"previousImage")}}function Qe(e,t){ot.timeImgChanged=(new Date).getTime(),ot.viewerImageIsChanged=!0;if(ot.O.locationHash){var a="nanogallery/"+ot.baseEltID+"/"+ot.I[e].albumID+"/"+ot.I[e].GetID();if("#"+a!=location.hash){ot.lastLocationHash="#"+a;try{top.location.hash=a}catch(n){ot.O.locationHash=!1}}else try{ot.lastLocationHash=top.location.hash}catch(n){ot.O.locationHash=!1}}if(ot.O.debugMode&&console.timeline&&console.timeline("nanoGALLERYviewer"),ot.viewerResizeTimerID=window.setInterval(function(){Ye()},100),ot.viewerCurrentItemIdx=e,""==t){ot.$E.vwImgC.css({opacity:0,left:0,visibility:"visible"}).attr("src",ot.emptyGif).attr("src",ot.I[e].responsiveURL());var i=new NGTweenable;i.tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:t},duration:400,step:function(e,t){ot.$E.vwImgC.css({opacity:e.o})},finish:function(e,t){ot.$E.vwImgC.css({opacity:1}),Ve(t.idx,t.dT)}})}else switch(ot.O.imageTransition){case"fade":var r="nextImage"==t?ot.$E.vwImgN:ot.$E.vwImgP;r.css({opacity:0,left:0,visibility:"visible"});var i=new NGTweenable;i.tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:t,$e:r},duration:300,step:function(e,t){ot.$E.vwImgC.css({opacity:1-e.o}),t.$e.css({opacity:e.o})},finish:function(e,t){ot.$E.vwImgC.css({opacity:0}),t.$e.css({opacity:1}),Ve(t.idx,t.dT)}});break;case"slideBETA":var r="nextImage"==t?ot.$E.vwImgN:ot.$E.vwImgP;if(r.css({opacity:1,left:0,visibility:"visible"}),null==ot.CSStransformName)jQuery.when(ot.$E.vwImgC.animate({left:("nextImage"==t?-at().w:at().w)+"px",opacity:0},500),r.animate({opacity:1},300)).done(function(){Ve(e,t)});else{var l="nextImage"==t?-at().w:at().w;r[0].style[ot.CSStransformName]="translateX("+-l+"px) ";var o={v:ot.imageSwipePosX},s={v:"nextImage"==t?-at().w:at().w};jQuery(o).animate(s,{duration:500,step:function(e){ot.$E.vwImgC[0].style[ot.CSStransformName]="translateX("+e+"px)",ot.$E.vwImgC.css({opacity:1-Math.abs(e/l)}),r[0].style[ot.CSStransformName]="translateX("+(-l+e)+"px) "},complete:function(){ot.$E.vwImgC[0].style[ot.CSStransformName]="",ot.$E.vwImgC.css({opacity:0}),Ve(e,t)}})}break;case"slideOLD":var r="nextImage"==t?ot.$E.vwImgN:ot.$E.vwImgP;if(null==ot.CSStransformName)r.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ot.$E.vwImgC.animate({left:("nextImage"==t?-at().w:at().w)+"px"},500),r.animate({opacity:1},300)).done(function(){Ve(e,t)});else{r.css({opacity:1,left:0,visibility:"visible"});var l="nextImage"==t?-at().w:at().w;r[0].style[ot.CSStransformName]="translateX("+-l+"px) ";var o={v:ot.imageSwipePosX},s={v:"nextImage"==t?-at().w:at().w};jQuery(o).animate(s,{duration:400,easing:"linear",step:function(e){window.requestAnimationFrame(function(){ot.$E.vwImgC[0].style[ot.CSStransformName]="translateX("+e+"px)",r[0].style[ot.CSStransformName]="translateX("+(-l+e)+"px) "})},complete:function(){window.requestAnimationFrame(function(){ot.$E.vwImgC[0].style[ot.CSStransformName]="",Ve(e,t)})}})}break;case"slide":var r="nextImage"==t?ot.$E.vwImgN:ot.$E.vwImgP;if(null==ot.CSStransformName)r.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ot.$E.vwImgC.animate({left:2*("nextImage"==t?-at().w:at().w)+"px"},500),r.animate({opacity:1},300)).done(function(){Ve(e,t)});else{var l="nextImage"==t?-at().w:at().w;r.css({opacity:1,left:0,visibility:"visible"}),r[0].style[ot.CSStransformName]="translateX("+-l+"px) ";var i=new NGTweenable;i.tween({from:{t:ot.imageSwipePosX},to:{t:"nextImage"==t?-at().w:at().w},attachment:{idx:e,dT:t,$e:r,dir:l},duration:300,step:function(e,t){ot.$E.vwImgC[0].style[ot.CSStransformName]="translateX("+e.t+"px)",t.$e[0].style[ot.CSStransformName]="translateX("+(-t.dir+e.t)+"px) "},finish:function(e,t){ot.$E.vwImgC[0].style[ot.CSStransformName]="",t.$e[0].style[ot.CSStransformName]="",Ve(t.idx,t.dT)}})}break;case"slideAppear":default:var l=at().w+"px",r=ot.$E.vwImgP;"nextImage"==t&&(l="-"+l,r=ot.$E.vwImgN),r.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(ot.$E.vwImgC.animate({left:l,opacity:0},500),r.animate({opacity:1},300)).done(function(){He(0),Ve(e,t)})}}function Ve(e,t){if(ze(e),ot.O.debugMode&&console.timeline&&console.timelineEnd("nanoGALLERYviewer"),"function"!=typeof ot.O.fnImgDisplayed||ot.O.fnImgDisplayed(ot.I[e].$elt,ot.I[e])){ot.imageSwipePosX=0,ot.$E.vwImgC.off("click"),ot.$E.vwImgC.removeClass("imgCurrent");var a=ot.$E.vwImgC;switch(t){case"nextImage":ot.$E.vwImgC=ot.$E.vwImgN,ot.$E.vwImgN=a;break;case"previousImage":ot.$E.vwImgC=ot.$E.vwImgP,ot.$E.vwImgP=a}ot.$E.vwImgC.addClass("imgCurrent"),ot.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",ot.emptyGif).attr("src",ot.I[Ue(e)].responsiveURL()),ot.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",ot.emptyGif).attr("src",ot.I[qe(e)].responsiveURL()),ot.$E.vwImgC.on("click",function(e){e.stopPropagation(),e.pageX<jQuery(window).width()/2?Re():We()}),Ye(),ot.viewerImageIsChanged=!1}}function Ue(e){for(var t=ot.I.length,a=-1,n=e+1;t>n;n++)if(ot.I[n].albumID==ot.I[e].albumID&&"image"==ot.I[n].kind){a=n;break}if(-1==a)for(var n=0;e>=n;n++)if(ot.I[n].albumID==ot.I[e].albumID&&"image"==ot.I[n].kind){a=n;break}return a}function qe(e){for(var t=-1,a=e-1;a>=0;a--)if(ot.I[a].albumID==ot.I[e].albumID&&"image"==ot.I[a].kind){t=a;break}if(-1==t)for(var a=ot.I.length-1;a>=e;a--)if(ot.I[a].albumID==ot.I[e].albumID&&"image"==ot.I[a].kind){t=a;break}return t}function ze(e){if(ot.O.viewerToolbar.display){ot.$E.conVwTb.css({visibility:"visible"});var t=!1;void 0!==ot.I[e].title&&""!=ot.I[e].title?(ot.$E.conVwTb.find(".title").html(ot.I[e].title),t=!0):ot.$E.conVwTb.find(".title").html(""),void 0!==ot.I[e].description&&""!=ot.I[e].description?(ot.$E.conVwTb.find(".description").html(ot.I[e].description),t=!0):ot.$E.conVwTb.find(".description").html("");var a=ot.$E.conVwTb.find(".ngCustomBtn");a.length>0&&"function"==typeof ot.O.fnImgToolbarCustDisplay&&ot.O.fnImgToolbarCustDisplay(a,ot.I[e],r()),t&&("std"==ot.toolbarMode?ot.O.viewerToolbar.standard:ot.O.viewerToolbar.minimized).indexOf("label")>=0?ot.$E.conVwTb.find(".label").show():ot.$E.conVwTb.find(".label").hide();for(var n=0,i=ot.I.length,l=0;i>l;l++)ot.I[l].albumID==ot.I[e].albumID&&"image"==ot.I[l].kind&&n++;n>0&&ot.$E.conVwTb.find(".pageCounter").html(ot.I[e].imageNumber+1+"/"+n)}}function Xe(e){if(ot.viewerImageIsChanged&&ot.$E.vwContent.find("*").stop(!0,!0),ot.viewerImageIsChanged=!1,ot.containerViewerDisplayed){if(window.clearInterval(ot.viewerResizeTimerID),ot.playSlideshow&&(window.clearInterval(ot.playSlideshowTimerID),ot.playSlideshow=!1),ot.viewerSwipe.removeEventListeners(),ot.viewerSwipe=null,ot.O.galleryFullpageButton&&ot.$E.base.hasClass("fullpage")||u(),ot.viewerIsFullscreen&&(ot.viewerIsFullscreen=!1,ngscreenfull.exit()),ot.$E.conVwCon.hide(0).off().show(0).html("").remove(),ot.containerViewerDisplayed=!1,-1!=ot.albumIdxToOpenOnViewerClose)R(ot.albumIdxToOpenOnViewerClose,!0);else{if(ot.O.locationHash&&e){var t=ot.I[ot.viewerCurrentItemIdx].albumID,a="nanogallery/"+ot.baseEltID+"/"+t;ot.lastLocationHash="#"+a;try{top.location.hash=a}catch(n){ot.O.locationHash=!1}}ve()}ot.timeImgChanged=(new Date).getTime()}}function Ye(){window.requestAnimationFrame(function(){var e=ot.$E.conVw.width(),t=ot.$E.conVw.height(),a=ot.$E.vwImgC,n=a.height(),i=a.width(),r=a.outerHeight(!0),l=a.outerHeight(!1),o=ot.$E.conVwTb.find(".toolbar"),s=o.outerHeight(!0);ot.$E.conVwTb.css(40>=n||!ot.O.viewerToolbar.display?{visibility:"hidden"}:{visibility:"visible"});var u=Math.abs(ot.$E.vwContent.outerHeight(!0)-ot.$E.vwContent.height()),c=Math.abs(ot.$E.vwContent.outerWidth(!0)-ot.$E.vwContent.width()),g=l-a.innerHeight(),m=Math.abs(a.outerWidth(!1)-a.innerWidth()),d=Math.abs(a.innerHeight()-n),h=Math.abs(a.innerWidth()-i),b=g+d,p=m+h,f=0;"innerImage"!=ot.O.viewerToolbar.style&&(f=s);var v=t-f-u,y=e-c;switch(ot.O.viewerToolbar.position){case"top":ot.$E.vwContent.css({height:v,width:y,top:f});var I=0;"innerImage"==ot.O.viewerToolbar.style&&(I=Math.abs(r-n)/2+5),"stuckImage"==ot.O.viewerToolbar.style&&(I=Math.abs(r-n)/2-b),ot.$E.conVwTb.css({top:I});break;case"bottom":default:ot.$E.vwContent.css({height:v,width:y});var I=0;"innerImage"==ot.O.viewerToolbar.style&&(I=Math.abs(r-n)/2+5),"stuckImage"==ot.O.viewerToolbar.style&&(I=Math.abs(r-n)/2-b),ot.$E.conVwTb.css({bottom:I})}"innerImage"==ot.O.viewerToolbar.style&&o.css({"max-width":i}),"fullWidth"==ot.O.viewerToolbar.style&&o.css({width:y}),ot.$E.conVwTb.css({height:s}),ot.$E.vwContent.children("img").css({"max-width":y-p,"max-height":v-b})})}function Ze(e){var t=e,a=[],n=0;a[n]=new Object,a[n].href=ot.I[t].responsiveURL(),a[n].title=ot.I[t].title;for(var i=ot.I.length,r=t+1;i>r;r++)"image"==ot.I[r].kind&&ot.I[r].albumID==ot.I[e].albumID&&""==ot.I[r].destinationURL&&(n++,a[n]=new Object,a[n].href=ot.I[r].responsiveURL(),a[n].title=ot.I[r].title);for(var r=0;t>r;r++)"image"==ot.I[r].kind&&ot.I[r].albumID==ot.I[e].albumID&&""==ot.I[r].destinationURL&&(n++,a[n]=new Object,a[n].href=ot.I[r].responsiveURL(),a[n].title=ot.I[r].title);null!=ot.O.fancyBoxOptions?jQuery.fancybox(a,ot.O.fancyBoxOptions):jQuery.fancybox(a,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}function Ke(e){var t=null;switch(ut(ot.O.colorScheme)){case"object":t=ot.colorScheme_default,jQuery.extend(!0,t,ot.O.colorScheme),ot.colorSchemeLabel="nanogallery_colorscheme_custom_"+ot.baseEltID;break;case"string":switch(ot.O.colorScheme){case"none":return;case"light":t=ot.colorScheme_light,ot.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":t=ot.colorScheme_lightBackground,ot.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":t=ot.colorScheme_darkRed,ot.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":t=ot.colorScheme_darkGreen,ot.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":t=ot.colorScheme_darkBlue,ot.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":t=ot.colorScheme_darkOrange,ot.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:t=ot.colorScheme_default,ot.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void et("Error in colorScheme parameter.")}var a="."+ot.colorSchemeLabel+" ",n=a+".nanoGalleryNavigationbar { background:"+t.navigationbar.background+" !important; }\n";void 0!==t.navigationbar.border&&(n+=a+".nanoGalleryNavigationbar { border:"+t.navigationbar.border+" !important; }\n"),void 0!==t.navigationbar.borderTop&&(n+=a+".nanoGalleryNavigationbar { border-top:"+t.navigationbar.borderTop+" !important; }\n"),void 0!==t.navigationbar.borderBottom&&(n+=a+".nanoGalleryNavigationbar { border-bottom:"+t.navigationbar.borderBottom+" !important; }\n"),void 0!==t.navigationbar.borderRight&&(n+=a+".nanoGalleryNavigationbar { border-right:"+t.navigationbar.borderRight+" !important; }\n"),void 0!==t.navigationbar.borderLeft&&(n+=a+".nanoGalleryNavigationbar { border-left:"+t.navigationbar.borderLeft+" !important; }\n"),n+=a+".nanoGalleryNavigationbar .oneFolder  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separator  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separatorRTL  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .setFullPageButton { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .removeFullPageButton { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .oneFolder:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+t.thumbnail.background+" !important; border:"+t.thumbnail.border+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+t.thumbnail.background+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+t.thumbnail.labelBackground+" ; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",
n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n";var i=t.thumbnail.labelBackground;"transparent"==i&&(i=""),n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+i+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+t.thumbnail.descriptionColor+" !important; Text-Shadow:"+t.thumbnail.descriptionShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+i+" !important; }\n",ot.O.paginationDots&&(n+=a+".nanoGalleryPaginationDot > .paginationItem { border:"+t.thumbnail.paginationDotBorder+" !important; background:"+t.thumbnail.paginationDotBack+" !important;}\n",n+=a+".nanoGalleryPaginationDot > .currentPage { background:"+t.thumbnail.paginationDotSelBack+" !important;}\n");var r="nanogallery_galleryfullpage_bgcolor_"+ot.baseEltID;n+="."+r+".fullpage { background:"+ot.O.galleryFullpageBgColor+" !important; }\n",jQuery("head").append("<style>"+n+"</style>"),jQuery(e).addClass(ot.colorSchemeLabel),jQuery(e).addClass(r)}function Je(e){var t=null;switch(ut(ot.O.colorSchemeViewer)){case"object":t=ot.colorSchemeViewer_default,jQuery.extend(!0,t,ot.O.colorSchemeViewer),ot.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(ot.O.colorSchemeViewer){case"none":return;case"light":t=ot.colorSchemeViewer_light,ot.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":t=ot.colorSchemeViewer_darkRed,ot.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":t=ot.colorSchemeViewer_darkGreen,ot.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":t=ot.colorSchemeViewer_darkBlue,ot.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":t=ot.colorSchemeViewer_darkOrange,ot.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":t=ot.colorSchemeViewer_dark,ot.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:t=ot.colorSchemeViewer_default,ot.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void et("Error in colorSchemeViewer parameter.")}var a="."+ot.colorSchemeLabel+" ",n=a+".nanoGalleryViewer { background:"+t.background+" !important; }\n";n+=a+".nanoGalleryViewer .content img { border:"+t.imageBorder+" !important; box-shadow:"+t.imageBoxShadow+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar { background:"+t.barBackground+" !important; border:"+t.barBorder+" !important; color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .previousButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .nextButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .closeButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .label .title { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .label .description { color:"+t.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+n+"</style>"),jQuery(e).addClass(ot.colorSchemeLabel)}function et(e,t){tt(e),null!=ot.$E.conConsole&&(ot.$E.conConsole.css({visibility:"visible",height:"auto"}),ot.$E.conConsole.append(0==t?"<p>"+e+"</p>":"<p>nanoGALLERY: "+e+" ["+ot.baseEltID+"]</p>"))}function tt(e){window.console&&console.log("nanoGALLERY: "+e+" ["+ot.baseEltID+"]")}function at(){var e=jQuery(window);return{l:e.scrollLeft(),t:e.scrollTop(),w:e.width(),h:e.height()}}function nt(e,t){var a=at(),n=e.offset(),i=e.outerHeight(!0),r=e.outerWidth(!0);return n.top>=a.t-t&&n.top+i<=a.t+a.h+t&&n.left>=a.l-t&&n.left+r<=a.l+a.w+t?!0:!1}function it(e,t){{var a=at(),n=e.offset(),i=e.outerHeight(!0);e.outerWidth(!0)}return 0==a.t&&n.top<=a.t+a.h?!0:n.top>=a.t&&n.top+i<=a.t+a.h-t?!0:!1}function rt(e,t){var a=0;""==e&&(e="*"),jQuery(e).each(function(){var e=parseInt(jQuery(this).css("z-index"));a=e>a?e:a}),a++,jQuery(t).css("z-index",a)}function lt(e){for(var t,a,n=e.length;n;t=Math.floor(Math.random()*n),a=e[--n],e[n]=e[t],e[t]=a);return e}this.ReloadAlbum=function(){if(""===ot.O.kind)throw"Not supported for this kind.";for(var e=ot.I.length,t=-1,a=0;e>a;a++)if(ot.lastOpenAlbumID==ot.I[a].GetID()){t=a;break}if(-1==t)throw"Current album not found.";ot.selectedItems=[];for(var n=0;e>n;n++)ot.I[n].selected=!1,ot.I[n].albumID==t&&(ot.I[n].albumID=-1);switch(ot.I[t].contentIsLoaded=!1,ot.lastOpenAlbumID=-1,ot.O.kind){case"json":return L(t,!1,-1,!1,!0);case"flickr":return T(t,!1,-1,!1,!0);case"picasa":default:return G(t,!1,-1,!1,!0)}},this.displayItem=function(e){return I(!1,e,!0)},this.GetItem=function(e){if(isNaN(e))throw"index must be a number";return ot.I[e]},this.GetItems=function(){return ot.I},this.GetItemsIndex=function(e){for(var t=[],a=e.length,n=0;a>n;n++){if(isNaN(e[n])?index=ot.I.indexOf(e[n]):index=e[n],isNaN(index))throw"This item does not exists";t.push(index)}return t},this.SetSelectedItems=function(e){for(var t=e.length,a=0;t>a;a++)null!==e[a].$elt&&be(e[a],!0)},this.SetUnselectedItems=function(e){for(var t=e.length,a=0;t>a;a++)null!==e[a].$elt&&be(e[a],!1)},this.GetSelectedItems=function(){return ot.selectedItems},this.Get=function(e){return ot.O[e]},this.Set=function(e,t){ot.O[e]=t},this.SetSelectMode=function(e){(e===!0||e===!1)&&(ot.selectModeForce=e,ot.selectMode=e,this.SetUnselectedItems(ot.I),"function"==typeof ot.O.fnChangeSelectMode&&ot.O.fnChangeSelectMode(ot.selectMode))},this.GetSelectMode=function(){return ot.selectMode===!0};var ot=this;ot.I=[],ot.O=null,ot.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},ot.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},ot.$currentTouchedThumbnail=null,ot.baseEltID=null,ot.containerTags=null,ot.containerNavigationbarContDisplayed=!1,ot.containerViewerDisplayed=!1,ot.containerThumbnailsDisplayed=!1,ot.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return ot.tn.labelHeight[ot.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return ot.tn.outerWidth[ot.curNavLevel][ot.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return ot.tn.outerHeight[ot.curNavLevel][ot.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return ot.tn.settings.height[ot.curNavLevel][ot.curWidth]},getW:function(){return ot.tn.settings.width[ot.curNavLevel][ot.curWidth]}},getHE:function(){return"l1"==ot.curNavLevel&&0!==ot.tnL1HE.length?ot.tnL1HE:ot.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""},ot.tnHE=[],ot.tnL1HE=[],ot.L={nbMaxTnPerRow:0},ot.blackList=null,ot.whiteList=null,ot.albumList=null,ot.galleryItemsCount=0,ot.toolbarMode="std",ot.playSlideshow=!1,ot.playSlideshowTimerID=0,ot.slideshowDelay=3e3,ot.touchAutoOpenDelayTimerID=0,ot.supportFullscreenAPI=!1,ot.viewerIsFullscreen=!1,ot.bodyOverflowInitial=null,ot.i18nLang="",ot.timeImgChanged=0,ot.timeLastTouchStart=0,ot.pgMaxNbThumbnailsPerRow=1,ot.pgMaxLinesPerPage=0,ot.lastOpenAlbumID=-1,ot.lastLocationHash="",ot.touchSelectTO=null,ot.viewerImageIsChanged=!1,ot.viewerResizeTimerID=-1,ot.viewerCurrentItemIdx=-1,ot.imageSwipePosX=0,ot.albumIdxToOpenOnViewerClose=-1,ot.custGlobals={},ot.delayedAlbumIdx=-1,ot.curAlbumIdx=-1,ot.delayedSetLocationHash=!1,ot.viewerSwipe=null,ot.isShiftPressed=!1,ot.isAltPressed=!1,ot.isCtrlPressed=!1,ot.isMetaPressed=!1,ot.selectedItems=[],ot.aengine="animate",ot.scrollTimeOut=0,ot.maxAlbums=1e6,ot.maxPhotos=1e6,ot.curNavLevel="l1",ot.curWidth="me",ot.gallerySwipeInitDone=!1,ot.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",ot.CSStransformName=o(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),ot.CSStransformStyle=o(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),ot.CSSperspective=o(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),ot.CSSbackfaceVisibilityName=o(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),ot.CSStransitionName=o(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),ot.CSSanimationName=o(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),ot.IE=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return void 0}(),ot.IOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}(),ot.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),ot.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),ot.openNoDelay=!1,ot.startDateTime=new Date,ot.toRender=[],ot.picasa={url:function(){return ot.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},ot.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},ot.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}},ot.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}},ot.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}},ot.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}},ot.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}},ot.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},ot.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},ot.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ot.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var st=function(){function e(e,a){var n=0;n=void 0===a||null===a?t++:a,this.GetID=function(){return n},this.title=e,this.description="",this.src="",this.width=0,this.height=0,this.destinationURL="",this.kind="",this.author="",this.thumbFullWidth=0,this.thumbFullHeight=0,this.thumbLabelWidth=0,this.thumbLabelHeight=0,this.thumbSizes={},this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.eltTransform={},this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.$elt=null,this.$Elts=[]}var t=1;return e.get_nextId=function(){return t},e.prototype={$getElt:function(e,t){return void 0!==this.$Elts[e]&&1==!t?this.$Elts[e]:(this.$Elts[e]=this.$elt.find(e),this.$Elts[e])},thumbSetImgHeight:function(e){for(var t=["xs","sm","me","la","xl"],a=0;a<t.length;a++)ot.tn.settings.height.l1[t[a]]==ot.tn.settings.getH()&&ot.tn.settings.width.l1[t[a]]==ot.tn.settings.getW()&&(this.thumbs.height.l1[t[a]]=e);for(var a=0;a<t.length;a++)ot.tn.settings.height.lN[t[a]]==ot.tn.settings.getH()&&ot.tn.settings.width.l1[t[a]]==ot.tn.settings.getW()&&(this.thumbs.height.lN[t[a]]=e)},thumbSetImgWidth:function(e){for(var t=["xs","sm","me","la","xl"],a=0;a<t.length;a++)ot.tn.settings.height.l1[t[a]]==ot.tn.settings.getH()&&ot.tn.settings.width.l1[t[a]]==ot.tn.settings.getW()&&(this.thumbs.width.l1[t[a]]=e);for(var a=0;a<t.length;a++)ot.tn.settings.height.lN[t[a]]==ot.tn.settings.getH()&&ot.tn.settings.width.l1[t[a]]==ot.tn.settings.getW()&&(this.thumbs.width.lN[t[a]]=e)},thumbImg:function(){var e={src:"",width:0,height:0};return"dummydummydummy"==this.title?(e.src=ot.emptyGif,e):(e.src=this.thumbs.url[ot.curNavLevel][ot.curWidth],e.width=this.thumbs.width[ot.curNavLevel][ot.curWidth],e.height=this.thumbs.height[ot.curNavLevel][ot.curWidth],e)},responsiveURL:function(){var e="";switch(ot.O.kind){case"":e=this.src;break;case"flickr":e=this.src;break;case"picasa":default:e=this.src}return e}},e}();this.Initiate=function(e,a){"use strict";if(ot.O=a,ot.O.thumbnailLabel.get=function(e){return"l1"==ot.curNavLevel&&void 0!==ot.O.thumbnailL1Label&&void 0!==ot.O.thumbnailL1Label[e]?ot.O.thumbnailL1Label[e]:ot.O.thumbnailLabel[e]},ot.O.thumbnailLabel.set=function(e,t){"l1"==ot.curNavLevel&&void 0!==ot.O.thumbnailL1Label&&void 0!==ot.O.thumbnailL1Label[e]?ot.O.thumbnailL1Label[e]=t:ot.O.thumbnailLabel[e]=t},ot.$E.base=jQuery(e),ot.baseEltID=ot.$E.base.attr("id"),ot.bodyOverflowInitial=jQuery("body").css("overflow"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),a=this,n=function(){},i=function(){return a.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),String.prototype.replaceAll=function(e,t){return void 0===t?this.toString():this.split(e).join(t)},"object"==ut(jQuery.velocity)?ot.aengine="velocity":"object"==ut(jQuery.transit)&&(ot.aengine="transition"),jQuery(e).addClass("nanogallery_theme_"+ot.O.theme),Ke(e),ot.O.thumbnailLabel.get("hideIcons")){var n=".nanogallery_thumbnails_icons_off ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";i+=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_icons_off")}if(ot.O.galleryToolbarHideIcons){var n=".nanogallery_breadcrumb_icons_off ",i=n+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";i+=n+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_breadcrumb_icons_off")}if("right"==ot.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_right ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_right")}if("center"==ot.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_center ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_center")}if("left"==ot.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_left ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_left")}ot.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(e),ot.$E.conNavBCon.hide(),ot.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(ot.$E.conNavBCon);var r="";switch(ot.O.RTL&&(r='style="text-align:right;direction:rtl;"'),ot.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+r+"></div>").appendTo(ot.$E.conNavB),ot.$E.conLoadingB=jQuery('<div class="nanoGalleryLBar" style="visibility:hidden;"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(e),ot.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(e),ot.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(ot.$E.conTnParent),ot.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(e),ot.O.thumbnailAlignment){case"left":ot.$E.conTnParent.css({"text-align":"left"}),ot.$E.conNavBCon.css({"margin-left":0});break;case"right":ot.$E.conTnParent.css({"text-align":"right"}),ot.$E.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var o=jQuery('<div class="nanogalleryHideElement '+jQuery(e).attr("class")+'"></div>').appendTo("body"),u=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(o);if(ot.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(u),ot.O.supportIE8)try{!window.addEventListener&&function(e,t,a,n,i,r,l){e[n]=t[n]=a[n]=function(e,t){var a=this;l.unshift([a,e,t,function(e){e.currentTarget=a,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||a,t.call(a,e)}]),this.attachEvent("on"+e,l[0][3])},e[i]=t[i]=a[i]=function(e,t){for(var a,n=0;a=l[n];++n)if(a[0]==this&&a[1]==e&&a[2]==t)return this.detachEvent("on"+e,l.splice(n,1)[0][3])},e[r]=t[r]=a[r]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(c){return l(),!1}else if(ot.IE<=8)return l(),!1;m();var d="";ot.O.RTL&&(d='style="direction:rtl;"'),ot.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(ot.O.paginationDots?"Dot":"")+'" '+d+"></div>").appendTo(ot.$E.conTnParent),ot.$E.conPagin.hide();new g(ot.$E.conTn[0]);v(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?ot.supportFullscreenAPI=!0:tt("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),w(),ot.L.nbMaxTnPerRow=ee(),ot.O.viewerFullscreen&&ot.O.openOnStart.indexOf("/")>0&&ngscreenfull.request(),"loadData"!=ot.O.lazyBuild&&s();var b=0;jQuery(window).resize(function(){b&&clearTimeout(b),ot.containerViewerDisplayed?Ye():b=setTimeout(function(){var e=h();-1==ot.curAlbumIdx||ot.tn.settings.getH()==ot.tn.settings.height[ot.curNavLevel][e]&&ot.tn.settings.getW()==ot.tn.settings.width[ot.curNavLevel][e]?Z():(ot.curWidth=e,ue(ot.curAlbumIdx,0))},50)}),ot.$E.base.on("scroll",function(){t()}),jQuery(window).on("scroll",function(){t()})},function(){for(var e=0,t=["ms","moz","webkit","o"],a=0;a<t.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[t[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[a]+"CancelAnimationFrame"]||window[t[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var ut=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},ct=function(e,t,a){e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var n=Math.round(256*t)*(a?-1:1),i=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),r=i&&null!=i[4]?i[4]:null,l=i?[i[1],i[2],i[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return i?"rgb"+(null!==r?"a":"")+"("+Math[a?"max":"min"](parseInt(l[0],10)+n,a?0:255)+", "+Math[a?"max":"min"](parseInt(l[1],10)+n,a?0:255)+", "+Math[a?"max":"min"](parseInt(l[2],10)+n,a?0:255)+(null!==r?", "+r:"")+")":["#",dt(Math[a?"max":"min"](parseInt(l[0],10)+n,a?0:255).toString(16),2),dt(Math[a?"max":"min"](parseInt(l[1],10)+n,a?0:255).toString(16),2),dt(Math[a?"max":"min"](parseInt(l[2],10)+n,a?0:255).toString(16),2)].join("")},gt=function(e,t){return ct(e,t,!1)},mt=function(e,t){return ct(e,t,!0)},dt=function(e,t){var a="0";for(e+="";e.length<t;)e=a+e;return e}}jQuery.nanoGallery=function(a,n){var i=this;i.$e=e(a),i.e=a,i.$e.data("nanoGallery",i),i.init=function(){i.options=e.extend(!0,{},e.nanoGallery.defaultOptions,n),i.nG=new t,i.nG.Initiate(i.e,i.options)},i.test=function(){},i.init()},jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:!1,picasaUseUrlCrossDomain:!0,flickrSkipOriginal:!0,galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",galleryRenderStep:10,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:!1,showCheckboxes:!0,checkboxStyle:"left:15px; top:15px;",jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:!1,maxWidth:0,viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:!0,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",lazyBuild:"none",lazyBuildTreshold:150,debugMode:!1,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},jQuery.fn.nanoGallery=function(t,a,n){if("undefined"==typeof e(this).data("nanoGallery"))return this.each(function(){new e.nanoGallery(this,t)});switch(t){case"reload":return e(this).data("nanoGallery").nG.ReloadAlbum(),e(this);case"getSelectedItems":return e(this).data("nanoGallery").nG.GetSelectedItems();case"selectItems":e(this).data("nanoGallery").nG.SetSelectedItems(a);break;case"unselectItems":e(this).data("nanoGallery").nG.SetUnselectedItems(a);break;case"setSelectMode":(a===!0||a===!1)&&e(this).data("nanoGallery").nG.SetSelectMode(a);break;case"getSelectMode":return e(this).data("nanoGallery").nG.GetSelectMode();case"getItem":return e(this).data("nanoGallery").nG.GetItem(a);case"getItems":return e(this).data("nanoGallery").nG.GetItems();case"getItemsIndex":return e(this).data("nanoGallery").nG.GetItemsIndex(a);case"option":if("undefined"==typeof n)return e(this).data("nanoGallery").nG.Get(a);e(this).data("nanoGallery").nG.Set(a,n);break;case"destroy":e(this).data("nanoGallery").nG.$E.base.text(""),e(this).removeData();break;case"displayItem":e(this).data("nanoGallery").nG.displayItem(a)}return e(this)}}(jQuery),function(e,t){function a(e,t,a){var n=g[t.type]||{};return null==e?a||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var a=u(),n=a._rgba=[];return t=t.toLowerCase(),h(s,function(e,i){var r,l=i.re.exec(t),o=l&&i.parse(l),s=i.space||"rgba";return o?(r=a[s](o),a[c[s].cache]=r[c[s].cache],n=a._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),a):r[t]}function i(e,t,a){return a=(a+1)%1,1>6*a?e+(t-e)*a*6:1>2*a?t:2>3*a?e+(t-e)*(2/3-a)*6:e}var r,l="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,a,n,i){return new e.Color.fn.parse(t,a,n,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,
floor:!0}},m=u.support={},d=e("<p>")[0],h=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=d.style.backgroundColor.indexOf("rgba")>-1,h(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(i,l,o,s){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(l),l=t);var g=this,m=e.type(i),d=this._rgba=[];return l!==t&&(i=[i,l,o,s],m="array"),"string"===m?this.parse(n(i)||r._default):"array"===m?(h(c.rgba.props,function(e,t){d[t.idx]=a(i[t.idx],t)}),this):"object"===m?(i instanceof u?h(c,function(e,t){i[t.cache]&&(g[t.cache]=i[t.cache].slice())}):h(c,function(t,n){var r=n.cache;h(n.props,function(e,t){if(!g[r]&&n.to){if("alpha"===e||null==i[e])return;g[r]=n.to(g._rgba)}g[r][t.idx]=a(i[e],t,!0)}),g[r]&&e.inArray(null,g[r].slice(0,3))<0&&(g[r][3]=1,n.from&&(g._rgba=n.from(g[r])))}),this):void 0},is:function(e){var t=u(e),a=!0,n=this;return h(c,function(e,i){var r,l=t[i.cache];return l&&(r=n[i.cache]||i.to&&i.to(n._rgba)||[],h(i.props,function(e,t){return null!=l[t.idx]?a=l[t.idx]===r[t.idx]:void 0})),a}),a},_space:function(){var e=[],t=this;return h(c,function(a,n){t[n.cache]&&e.push(a)}),e.pop()},transition:function(e,t){var n=u(e),i=n._space(),r=c[i],l=0===this.alpha()?u("transparent"):this,o=l[r.cache]||r.to(l._rgba),s=o.slice();return n=n[r.cache],h(r.props,function(e,i){var r=i.idx,l=o[r],u=n[r],c=g[i.type]||{};null!==u&&(null===l?s[r]=u:(c.mod&&(u-l>c.mod/2?l+=c.mod:l-u>c.mod/2&&(l-=c.mod)),s[r]=a((u-l)*t+l,i)))}),this[i](s)},blend:function(t){if(1===this._rgba[3])return this;var a=this._rgba.slice(),n=a.pop(),i=u(t)._rgba;return u(e.map(a,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var t="rgba(",a=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===a[3]&&(a.pop(),t="rgb("),t+a.join()+")"},toHslaString:function(){var t="hsla(",a=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===a[3]&&(a.pop(),t="hsl("),t+a.join()+")"},toHexString:function(t){var a=this._rgba.slice(),n=a.pop();return t&&a.push(~~(255*n)),"#"+e.map(a,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,a,n=e[0]/255,i=e[1]/255,r=e[2]/255,l=e[3],o=Math.max(n,i,r),s=Math.min(n,i,r),u=o-s,c=o+s,g=.5*c;return t=s===o?0:n===o?60*(i-r)/u+360:i===o?60*(r-n)/u+120:60*(n-i)/u+240,a=0===u?0:.5>=g?u/c:u/(2-c),[Math.round(t)%360,a,g,null==l?1:l]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,a=e[1],n=e[2],r=e[3],l=.5>=n?n*(1+a):n+a-n*a,o=2*n-l;return[Math.round(255*i(o,l,t+1/3)),Math.round(255*i(o,l,t)),Math.round(255*i(o,l,t-1/3)),r]},h(c,function(n,i){var r=i.props,l=i.cache,s=i.to,c=i.from;u.fn[n]=function(n){if(s&&!this[l]&&(this[l]=s(this._rgba)),n===t)return this[l].slice();var i,o=e.type(n),g="array"===o||"object"===o?n:arguments,m=this[l].slice();return h(r,function(e,t){var n=g["object"===o?e:t.idx];null==n&&(n=m[t.idx]),m[t.idx]=a(n,t)}),c?(i=u(c(m)),i[l]=m,i):u(m)},h(r,function(t,a){u.fn[t]||(u.fn[t]=function(i){var r,l=e.type(i),s="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[s](),c=u[a.idx];return"undefined"===l?c:("function"===l&&(i=i.call(this,c),l=e.type(i)),null==i&&a.empty?this:("string"===l&&(r=o.exec(i),r&&(i=c+parseFloat(r[2])*("+"===r[1]?1:-1))),u[a.idx]=i,this[s](u)))})})}),u.hook=function(t){var a=t.split(" ");h(a,function(t,a){e.cssHooks[a]={set:function(t,i){var r,l,o="";if("transparent"!==i&&("string"!==e.type(i)||(r=n(i)))){if(i=u(r||i),!m.rgba&&1!==i._rgba[3]){for(l="backgroundColor"===a?t.parentNode:t;(""===o||"transparent"===o)&&l&&l.style;)try{o=e.css(l,"backgroundColor"),l=l.parentNode}catch(s){}i=i.blend(o&&"transparent"!==o?o:"_default")}i=i.toRgbaString()}try{t.style[a]=i}catch(s){}}},e.fx.step[a]=function(t){t.colorInit||(t.start=u(t.elem,a),t.end=u(t.end),t.colorInit=!0),e.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(l),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(a,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){}function t(e,t){for(var a=e.length;a--;)if(e[a].listener===t)return a;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,i=this,r=i.ngEventEmitter;n.getListeners=function(e){var t,a,n=this._getEvents();if("object"==typeof e){t={};for(a in n)n.hasOwnProperty(a)&&e.test(a)&&(t[a]=n[a])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,a=[];for(t=0;t<e.length;t+=1)a.push(e[t].listener);return a},n.getListenersAsObject=function(e){var t,a=this.getListeners(e);return a instanceof Array&&(t={},t[e]=a),t||a},n.addListener=function(e,a){var n,i=this.getListenersAsObject(e),r="object"==typeof a;for(n in i)i.hasOwnProperty(n)&&-1===t(i[n],a)&&i[n].push(r?a:{listener:a,once:!1});return this},n.on=a("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=a("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,a){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&(n=t(r[i],a),-1!==n&&r[i].splice(n,1));return this},n.off=a("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,a){var n,i,r=e?this.removeListener:this.addListener,l=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=a.length;n--;)r.call(this,t,a[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?r.call(this,n,i):l.call(this,n,i));return this},n.removeEvent=function(e){var t,a=typeof e,n=this._getEvents();if("string"===a)delete n[e];else if("object"===a)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=a("removeEvent"),n.emitEvent=function(e,t){var a,n,i,r,l=this.getListenersAsObject(e);for(i in l)if(l.hasOwnProperty(i))for(n=l[i].length;n--;)a=l[i][n],a.once===!0&&this.removeListener(e,a.listener),r=a.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},n.trigger=a("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.ngEventEmitter=r,e},"function"==typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.ngEventEmitter=e}.call(this),function(e){function t(t){var a=e.event;return a.target=a.target||a.srcElement||t,a}var a=document.documentElement,n=function(){};a.addEventListener?n=function(e,t,a){e.addEventListener(t,a,!1)}:a.attachEvent&&(n=function(e,a,n){e[a+n]=n.handleEvent?function(){var a=t(e);n.handleEvent.call(n,a)}:function(){var a=t(e);n.call(e,a)},e.attachEvent("on"+a,e[a+n])});var i=function(){};a.removeEventListener?i=function(e,t,a){e.removeEventListener(t,a,!1)}:a.detachEvent&&(i=function(e,t,a){e.detachEvent("on"+t,e[t+a]);try{delete e[t+a]}catch(n){e[t+a]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["ngEventEmitter/ngEventEmitter","eventie/eventie"],function(a,n){return t(e,a,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.ngimagesLoaded=t(e,e.ngEventEmitter,e.eventie)}(window,function(e,t,a){function n(e,t){for(var a in t)e[a]=t[a];return e}function i(e){return"[object Array]"===m.call(e)}function r(e){var t=[];if(i(e))t=e;else if("number"==typeof e.length)for(var a=0,n=e.length;n>a;a++)t.push(e[a]);else t.push(e);return t}function l(e,t,a){if(!(this instanceof l))return new l(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?a=t:n(this.options,t),a&&this.on("always",a),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var i=this;setTimeout(function(){i.check()})}function o(e){this.img=e}function s(e){this.src=e,d[e]=this}var u=e.jQuery,c=e.console,g="undefined"!=typeof c,m=Object.prototype.toString;l.prototype=new t,l.prototype.options={},l.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var a=this.elements[e];"IMG"===a.nodeName&&this.addImage(a);var n=a.nodeType;if(n&&(1===n||9===n||11===n))for(var i=a.querySelectorAll("img"),r=0,l=i.length;l>r;r++){var o=i[r];this.addImage(o)}}},l.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},l.prototype.check=function(){function e(e,i){return t.options.debug&&g&&c.log("confirm",e,i),t.progress(e),a++,a===n&&t.complete(),!0}var t=this,a=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var i=0;n>i;i++){var r=this.images[i];r.on("confirm",e),r.check()}},l.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},l.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var a=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[a](t)}})},u&&(u.fn.ngimagesLoaded=function(e,t){var a=new l(this,e,t);return a.jqDeferred.promise(u(this))}),o.prototype=new t,o.prototype.check=function(){var e=d[this.img.src]||new s(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,a){return t.confirm(e.isLoaded,a),!0}),e.check()},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var d={};return s.prototype=new t,s.prototype.check=function(){if(!this.isChecked){var e=new Image;a.bind(e,"load",this),a.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){a.unbind(e.target,"load",this),a.unbind(e.target,"error",this)},l}),function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var e,t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=a.length,r={};i>n;n++)if(e=a[n],e&&e[1]in document){for(n=0,t=e.length;t>n;n++)r[a[0][n]]=e[n];return r}return!1}(),n={request:function(e){var n=a.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[n]():e[n](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[a.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:a};return a?(Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[a.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[a.fullscreenEnabled]}}}),document.addEventListener(a.fullscreenchange,function(e){n.onchange.call(n,e)}),document.addEventListener(a.fullscreenerror,function(e){n.onerror.call(n,e)}),void(e?module.exports=n:window.ngscreenfull=n)):void(e?module.exports=!1:window.ngscreenfull=!1)}(),function(){var e=this,t=function(){"use strict";function t(){}function a(e,t){var a;for(a in e)Object.hasOwnProperty.call(e,a)&&t(a)}function n(e,t){return a(t,function(a){e[a]=t[a]}),e}function i(e,t){a(t,function(a){void 0===e[a]&&(e[a]=t[a])})}function r(e,t,a,n,i,r,o){var s,u=(e-r)/i;for(s in t)t.hasOwnProperty(s)&&(t[s]=l(a[s],n[s],g[o[s]],u));return t}function l(e,t,a,n){return e+(t-e)*a(n)}function o(e,t){var n=c.prototype.filter,i=e._filterArgs;a(n,function(a){void 0!==n[a][t]&&n[a][t].apply(e,i)})}function s(e,t,a,n,i,l,s,u,c,g,m){v=t+a+n,y=Math.min(m||f(),v),I=y>=v,w=n-(v-y),e.isPlaying()&&!I?(e._scheduleId=g(e._timeoutHandler,b),o(e,"beforeTween"),t+a>y?r(1,i,l,s,1,1,u):r(y,i,l,s,n,t+a,u),o(e,"afterTween"),c(i,e._attachment,w)):I&&(c(s,e._attachment,w),e.stop(!0))}function u(e,t){var n={};return"string"==typeof t?a(e,function(e){n[e]=t}):a(e,function(e){n[e]||(n[e]=t[e]||d)}),n}function c(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=m,void 0!==t&&this.setConfig(t)}var g,m,d="linear",h=500,b=1e3/60,p=Date.now?Date.now:function(){return+new Date},f="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:p;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var v,y,I,w;return c.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=f(),this._start(this.get(),this._attachment),this.resume())},c.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||t,this._step=e.step||t,this._finish=e.finish||t,this._duration=e.duration||h,this._currentState=n({},e.from)||this.get(),this._originalState=this.get(),this._targetState=n({},e.to)||this.get();var a=this;this._timeoutHandler=function(){s(a,a._timestamp,a._delay,a._duration,a._currentState,a._originalState,a._targetState,a._easing,a._step,a._scheduleFunction)};var r=this._currentState,l=this._targetState;return i(l,r),this._easing=u(r,e.easing||d),this._filterArgs=[r,this._originalState,l,this._easing],o(this,"tweenCreated"),this},c.prototype.get=function(){return n({},this._currentState)},c.prototype.set=function(e){this._currentState=e},c.prototype.pause=function(){return this._pausedAtTime=f(),this._isPaused=!0,this},c.prototype.resume=function(){return this._isPaused&&(this._timestamp+=f()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},c.prototype.seek=function(e){e=Math.max(e,0);var t=f();return 0===this._timestamp+e?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,s(this,this._timestamp,this._duration,this._delay,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},c.prototype.stop=function(a){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=t,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),a&&(n(this._currentState,this._targetState),o(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},c.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},c.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},c.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},c.prototype.filter={},c.prototype.formula={linear:function(e){return e}},g=c.prototype.formula,n(c,{now:f,each:a,tweenProps:r,tweenProp:l,applyFilter:o,shallowCopy:n,defaults:i,composeEasingObject:u}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=s),"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):void 0===e.NGTweenable&&(e.NGTweenable=c),c}();!function(){t.shallowCopy(t.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return 1>(e/=.5)?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return 1>(e/=.5)?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return 1>(e/=.5)?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,a,n,i,r){function l(e){return((d*e+h)*e+b)*e}function o(e){return((p*e+f)*e+v)*e}function s(e){return(3*d*e+2*h)*e+b}function u(e){return 1/(200*e)}function c(e,t){return o(m(e,t))}function g(e){return e>=0?e:0-e}function m(e,t){var a,n,i,r,o,u;for(i=e,u=0;8>u;u++){if(r=l(i)-e,t>g(r))return i;if(o=s(i),1e-6>g(o))break;i-=r/o}if(a=0,n=1,i=e,a>i)return a;if(i>n)return n;for(;n>a;){if(r=l(i),t>g(r-e))return i;e>r?a=i:n=i,i=.5*(n-a)+a}return i}var d=0,h=0,b=0,p=0,f=0,v=0;return b=3*t,h=3*(n-t)-b,d=1-b-h,v=3*a,f=3*(i-a)-v,p=1-v-f,c(e,u(r))}function a(t,a,n,i){return function(r){return e(r,t,a,n,i,1)}}t.setBezierFunction=function(e,n,i,r,l){var o=a(n,i,r,l);return o.x1=n,o.y1=i,o.x2=r,o.y2=l,t.prototype.formula[e]=o},t.unsetBezierFunction=function(e){delete t.prototype.formula[e]}}(),function(){function e(e,a,n,i,r){return t.tweenProps(i,a,e,n,1,0,r)}var a=new t;a._filterArgs=[],t.interpolate=function(n,i,r,l){var o=t.shallowCopy({},n),s=t.composeEasingObject(n,l||"linear");a.set({});var u=a._filterArgs;u.length=0,u[0]=o,u[1]=n,u[2]=i,u[3]=s,t.applyFilter(a,"tweenCreated"),t.applyFilter(a,"beforeTween");var c=e(n,o,i,r,s);return t.applyFilter(a,"afterTween"),c}}(),function(e){function t(e,t){var a,n=[],i=e.length;for(a=0;i>a;a++)n.push("_"+t+"_"+a);return n}function a(e){var t=e.match(w);return t?(1===t.length||e[0].match(I))&&t.unshift(""):t=["",""],t.join(k)}function n(t){e.each(t,function(e){var a=t[e];"string"==typeof a&&a.match(S)&&(t[e]=i(a))})}function i(e){return s(S,e,r)}function r(e){var t=l(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function l(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),L[0]=o(e.substr(0,2)),L[1]=o(e.substr(2,2)),L[2]=o(e.substr(4,2)),L}function o(e){return parseInt(e,16)}function s(e,t,a){var n=t.match(e),i=t.replace(e,k);if(n)for(var r,l=n.length,o=0;l>o;o++)r=n.shift(),i=i.replace(k,a(r));return i}function u(e){return s(x,e,c)}function c(e){for(var t=e.match(E),a=t.length,n=e.match(C)[0],i=0;a>i;i++)n+=parseInt(t[i],10)+",";return n=n.slice(0,-1)+")"}function g(n){var i={};return e.each(n,function(e){var r=n[e];if("string"==typeof r){var l=f(r);i[e]={formatString:a(r),chunkNames:t(l,e)}}}),i}function m(t,a){e.each(a,function(e){for(var n=t[e],i=f(n),r=i.length,l=0;r>l;l++)t[a[e].chunkNames[l]]=+i[l];delete t[e]})}function d(t,a){e.each(a,function(e){var n=t[e],i=h(t,a[e].chunkNames),r=b(i,a[e].chunkNames);n=p(a[e].formatString,r),t[e]=u(n)})}function h(e,t){for(var a,n={},i=t.length,r=0;i>r;r++)a=t[r],n[a]=e[a],delete e[a];return n}function b(e,t){O.length=0;for(var a=t.length,n=0;a>n;n++)O.push(e[t[n]]);return O}function p(e,t){for(var a=e,n=t.length,i=0;n>i;i++)a=a.replace(k,+t[i].toFixed(4));return a}function f(e){return e.match(E)}function v(t,a){e.each(a,function(e){for(var n=a[e],i=n.chunkNames,r=i.length,l=t[e].split(" "),o=l[l.length-1],s=0;r>s;s++)t[i[s]]=l[s]||o;delete t[e]})}function y(t,a){e.each(a,function(e){for(var n=a[e],i=n.chunkNames,r=i.length,l="",o=0;r>o;o++)l+=" "+t[i[o]],delete t[i[o]];t[e]=l.substr(1)})}var I=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,E=/[0-9.\-]+/g,x=RegExp("rgb\\("+E.source+/,\s*/.source+E.source+/,\s*/.source+E.source+"\\)","g"),C=/^.*\(/,S=/#([0-9]|[a-f]){3,6}/gi,k="VAL",L=[],O=[];e.prototype.filter.token={tweenCreated:function(e,t,a){n(e),n(t),n(a),this._tokenData=g(e)},beforeTween:function(e,t,a,n){v(n,this._tokenData),m(e,this._tokenData),m(t,this._tokenData),m(a,this._tokenData)},afterTween:function(e,t,a,n){d(e,this._tokenData),d(t,this._tokenData),d(a,this._tokenData),y(n,this._tokenData)}}}(t)}.call(null);