function publish(e){function t(e){return e.is("FILE")}function i(e){return e.is("CONSTRUCTOR")||e.isNamespace}publish.conf={ext:".html",outDir:JSDOC.opt.d||SYS.pwd+"../out/jsdoc/",templatesDir:JSDOC.opt.t||SYS.pwd+"../templates/jsdoc/",symbolsDir:"symbols/",srcDir:"symbols/src/"},JSDOC.opt.s&&defined(Link)&&Link.prototype._makeSrcLink&&(Link.prototype._makeSrcLink=function(e){return"&lt;"+e+"&gt;"}),IO.mkPath((publish.conf.outDir+"symbols/src").split("/")),Link.symbolSet=e;try{var n=new JSDOC.JsPlate(publish.conf.templatesDir+"class.tmpl"),r=new JSDOC.JsPlate(publish.conf.templatesDir+"allclasses.tmpl")}catch(s){print("Couldn't create the required templates: "+s),quit()}for(var a=e.toArray(),l=JSDOC.opt.srcFiles,o=0,u=l.length;u>o;o++){var c=l[o],p=publish.conf.outDir+"symbols/src/";makeSrcFile(c,p)}var f=a.filter(i).sort(makeSortby("alias"));if(JSDOC.opt.u){var m={};Link.filemap={};for(var o=0,u=f.length;u>o;o++){var h=f[o].alias.toLowerCase();m[h]?m[h]++:m[h]=1,Link.filemap[f[o].alias]=m[h]>1?h+"_"+m[h]:h}}Link.base="../",publish.classesIndex=r.process(f);for(var o=0,u=f.length;u>o;o++){var b=f[o];b.events=b.getEvents(),b.methods=b.getMethods(),Link.currentSymbol=b;var S="";S=n.process(b),IO.saveFile(publish.conf.outDir+"symbols/",(JSDOC.opt.u?Link.filemap[b.alias]:b.alias)+publish.conf.ext,S)}Link.base="",publish.classesIndex=r.process(f);try{var d=new JSDOC.JsPlate(publish.conf.templatesDir+"index.tmpl")}catch(s){print(s.message),quit()}var v=d.process(f);IO.saveFile(publish.conf.outDir,"index"+publish.conf.ext,v),d=v=f=null;try{var D=new JSDOC.JsPlate(publish.conf.templatesDir+"allfiles.tmpl")}catch(s){print(s.message),quit()}for(var O=a.filter(t),k=[],o=0;o<l.length;o++)k.push(new JSDOC.Symbol(l[o],[],"FILE",new JSDOC.DocComment("/** */")));for(var o=0;o<O.length;o++){var C=l.indexOf(O[o].alias);k[C]=O[o]}k=k.sort(makeSortby("name"));var g=D.process(k);IO.saveFile(publish.conf.outDir,"files"+publish.conf.ext,g),D=g=l=null}function summarize(e){return"undefined"!=typeof e?e.match(/([\w\W]+?\.)[^a-z0-9_$]/i)?RegExp.$1:e:void 0}function makeSortby(e){return function(t,i){return void 0!=t[e]&&void 0!=i[e]?(t=t[e].toLowerCase(),i=i[e].toLowerCase(),i>t?-1:t>i?1:0):void 0}}function include(e){var e=publish.conf.templatesDir+e;return IO.readFile(e)}function makeSrcFile(e,t,i){if(!JSDOC.opt.s){i||(i=e.replace(/\.\.?[\\\/]/g,"").replace(/[\\\/]/g,"_"),i=i.replace(/\:/g,"_"));var n={path:e,name:i,charset:IO.encoding,hilited:""};defined(JSDOC.PluginManager)&&JSDOC.PluginManager.run("onPublishSrc",n),n.hilited&&IO.saveFile(t,i+publish.conf.ext,n.hilited)}}function makeSignature(e){if(!e)return"()";var t="("+e.filter(function(e){return-1==e.name.indexOf(".")}).map(function(e){return e.name}).join(", ")+")";return t}function resolveLinks(e,t){return e=e.replace(/\{@link ([^} ]+) ?\}/gi,function(e,t){return(new Link).toSymbol(t)})}