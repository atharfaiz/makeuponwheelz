function IsNumeric(e){e.shiftKey?e.preventDefault():46==e.keyCode||8==e.keyCode||9==e.keyCode||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}function isAlphaNumeric(e){46==e.keyCode||8==e.keyCode||32==e.keyCode||9==e.keyCode||(e.shiftKey||(e.keyCode<65||e.keyCode>90)&&(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))&&e.preventDefault()}var specialKeys=new Array;specialKeys.push(8);var TableData=function(){var e=function(){var e=$("#sample_1").dataTable({aoColumnDefs:[{bSortable:!1,bSearchable:!1,aTargets:[-1,-2]}],oLanguage:{sLengthMenu:"Show _MENU_ Rows",sSearch:"",oPaginate:{sPrevious:"",sNext:""}},aaSorting:[[1,"asc"]],aLengthMenu:[[5,10,15,20,-1],[5,10,15,20,"All"]],iDisplayLength:10});$("#sample_1_wrapper .dataTables_filter input").addClass("form-control input-sm").attr("placeholder","Search"),$("#sample_1_wrapper .dataTables_length select").addClass("m-wrap small"),$("#sample_1_wrapper .dataTables_length select").select2(),$('#sample_1_column_toggler input[type="checkbox"]').change(function(){var a=parseInt($(this).attr("data-column")),t=e.fnSettings().aoColumns[a].bVisible;e.fnSetColumnVis(a,t?!1:!0)})},a=function(){function e(e,a){for(var t=e.fnGetData(a),l=$(">td",a),n=0,r=l.length;r>n;n++)e.fnUpdate(t[n],a,n,!1);e.fnDraw()}function a(e,a){var t=e.fnGetData(a),l=$(">td",a);l[0].innerHTML='<input type="text" style="width:100%" class="form-control" onkeydown="IsNumeric(event);" value="'+t[0]+'" required>',l[1].innerHTML='<input type="text" style="width:100%" class="form-control" OnKeydown="isAlphaNumeric(event);" value="'+t[1]+'" required>',l[2].innerHTML='<textarea style="width:100%" class="form-control" required>'+t[2]+"</textarea>",l[3].innerHTML='<input type="text" style="width:100%" class="form-control " onkeydown="IsNumeric(event);" value="'+t[3]+'" required>',l[4].innerHTML='<a class="save-row btn btn-green btn-sm"  href=""><i class="fa fa-save"></i> Save</a>',l[5].innerHTML='<a class="cancel-row btn btn-bricky btn-sm"  href=""><i class="clip-cancel-circle"></i> Cancel</a>'}function t(e,a){var t=e.fnGetData(a),l=a.cells,n=l[0].children[0].innerHTML,r=l[1].children[0].innerHTML,s=$(">td",a);s[0].innerHTML='<input type="text" style="width:100%" class="form-control" value="'+n+'" required readonly>',s[1].innerHTML='<input type="text" style="width:100%" class="form-control" value="'+r+'" required>',s[2].innerHTML='<textarea class="form-control" style="width:100%" required>'+t[2]+"</textarea>",s[3].innerHTML='<input type="text" style="width:100%" class="form-control" value="'+t[3]+'" required>',s[4].innerHTML='<a href=""  class="save-row btn btn-green btn-sm" ><i class="fa fa-save"></i> Save</a>',s[5].innerHTML='<a href=""  class="cancel-row btn btn-bricky btn-sm" ><i class="clip-cancel-circle"></i> Cancel</a>'}function l(e,a){var t=$("input",a),l=$("textarea",a);$.ajax({url:"createcollege",type:"POST",data:"collegeId="+t[0].value+"&collegeName="+t[1].value+"&collegeAddress="+l[0].value+"&collegeContact="+t[2].value,success:function(s){e.fnUpdate(t[0].value,a,0,!1),e.fnUpdate(t[1].value,a,1,!1),e.fnUpdate(l[0].value,a,2,!1),e.fnUpdate(t[2].value,a,3,!1),e.fnUpdate('<a class="edit-row btn btn-green btn-sm" href=""><i class="fa fa-edit"> Edit</a>',a,4,!1),e.fnUpdate('<a class="delete-row btn btn-bricky btn-sm" href=""><i class="fa fa-trash-o"></i> Delete</a>',a,5,!1),e.fnDraw(),n=!1,r=null,location.reload()},error:function(e){alert("error in save")}})}var n=!1,r=null;$.ajax({url:"collegelist",type:"POST",success:function(a){store=JSON.parse(a),size=Object.keys(store).length/4;for(var t=0;t<size;t++){var l="collegeId"+t,o="collegeName"+t,c="collegeAddress"+t,i="collegeContact"+t;if(0==n){r&&e(s,r),n=!0;var d=s.fnAddData(["","","","","",""]),u=s.fnGetNodes(d[0]);s.fnUpdate('<a href="adminCollegeFaculty?collegeId='+store[l]+"&collegeName="+store[o]+'">'+store[l]+"</a>",u,0,!1),s.fnUpdate('<a href="adminCollegeFaculty?collegeId='+store[l]+"&collegeName="+store[o]+'">'+store[o]+"</a>",u,1,!1),s.fnUpdate(store[c],u,2,!1),s.fnUpdate(store[i],u,3,!1),s.fnUpdate('<a class="edit-row btn btn-green btn-sm"  href=""><i class="fa fa-edit"> Edit</a>',u,4,!1),s.fnUpdate('<a class="delete-row btn btn-bricky btn-sm"  href=""><i class="fa fa-trash-o"></i> Delete</a>',u,5,!1),s.fnDraw(),n=!1,r=null}}},error:function(e){alert("error")}}),$("body").on("click",".add-row",function(t){if(t.preventDefault(),0==n){r&&e(s,r),n=!0;var l=s.fnAddData(["","","","","",""]),o=s.fnGetNodes(l[0]);a(s,o),r=o}}),$("#sample_2").on("click",".cancel-row",function(a){if(a.preventDefault(),n){n=!1,r=null;var t=$(this).parents("tr")[0];s.fnDeleteRow(t)}else e(s,r),r=null}),$("#sample_2").on("click",".delete-row",function(e){e.preventDefault(),n&&r&&(s.fnDeleteRow(r),n=!1);var a=$(this).parents("tr")[0],t=a.cells,l=t[0].childern[0].innerHTML;bootbox.confirm("Are you sure to delete this college?",function(e){e&&($.blockUI({message:'<i class="fa fa-spinner fa-spin"></i> Delete College...'}),$.mockjax({url:"/tabledata/delete/webservice",dataType:"json",responseTime:1e3,responseText:{say:"ok"}}),$.ajax({url:"/tabledata/delete/webservice",dataType:"json",success:function(e){$.unblockUI(),"ok"==e.say&&$.ajax({url:"deletecollege",type:"POST",data:"collegeId="+l,success:function(e){s.fnDeleteRow(a),location.reload()},error:function(e){alert("Already in use")}})}}))})}),$("#sample_2").on("click",".save-row",function(e){e.preventDefault();var a=$(this).parents("tr")[0],t=a.cells,n=t[0].children[0].value,r=t[1].children[0].value,o=t[2].children[0].value,c=t[3].children[0].value;return null==n||""==n?(alert("Please Enter College Code"),!1):null==r||""==r?(alert("Please Enter College Name"),!1):null==o||""==o?(alert("Please Enter College Address"),!1):null==c||""==c?(alert("Please Enter Course Contact"),!1):($.blockUI({message:'<i class="fa fa-spinner fa-spin"></i> saving data...'}),$.mockjax({url:"/tabledata/add/webservice",dataType:"json",responseTime:1e3,responseText:{say:"ok"}}),void $.ajax({url:"/tabledata/add/webservice",dataType:"json",success:function(e){$.unblockUI(),"ok"==e.say&&l(s,a)}}))}),$("#sample_2").on("click",".edit-row",function(a){a.preventDefault(),r&&(n?(s.fnDeleteRow(r),n=!1):e(s,r));var l=$(this).parents("tr")[0];t(s,l),r=l});var s=$("#sample_2").dataTable({aoColumnDefs:[{bSortable:!1,bSearchable:!1,aTargets:[-1,-2]}],oLanguage:{sLengthMenu:"Show _MENU_ Rows",sSearch:"",oPaginate:{sPrevious:"",sNext:""}},aaSorting:[[1,"asc"]],aLengthMenu:[[5,10,15,20,-1],[5,10,15,20,"All"]],iDisplayLength:10});$("#sample_2_wrapper .dataTables_filter input").addClass("form-control input-sm").attr("placeholder","Search"),$("#sample_2_wrapper .dataTables_length select").addClass("m-wrap small"),$("#sample_2_wrapper .dataTables_length select").select2(),$('#sample_2_column_toggler input[type="checkbox"]').change(function(){var e=parseInt($(this).attr("data-column")),a=s.fnSettings().aoColumns[e].bVisible;s.fnSetColumnVis(e,a?!1:!0)})};return{init:function(){e(),a()}}}();