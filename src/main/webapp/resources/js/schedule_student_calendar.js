function eventL(){return window.eventList=[],"select"==$("#courseSelect").val()||"select"==$("#semOrYr").val()||"select"==$("#sessionSelect").val()?void $("#calendar").fullCalendar("removeEvents"):void $.ajax({url:"scheduleList?courseId="+$("#courseSelect").val()+"&semOrYr="+$("#semOrYr").val()+"&session="+$("#sessionSelect").val(),type:"GET",success:function(e){var t=JSON.parse(e),a=Object.keys(t).length/6;for(temp1=new Date,temp2=new Date,temp3=new Date(temp1.setDate(temp1.getDate()-7)),temp4=new Date(temp2.setDate(temp2.getDate()+7)),$("#calendar").fullCalendar("removeEvents");temp3<temp4;){for(i=0;i<a;i++)if(subjectId="subjectId"+i,scheduleId="scheduletId"+i,start="startTime"+i,end="endTime"+i,day="day"+i,subjectName="subjectName"+i,temp3.getDay()==t[day])switch(tmp=temp3+"",temp123=tmp.substring(0,16),startTime=temp123+t[start],endTime=temp123+t[end],titl=t[subjectName]+"["+t[scheduleId]+"]",t[day]){case"0":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-red",allDay:!1};break;case"1":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-yellow",allDay:!1};break;case"2":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-green",allDay:!1};break;case"3":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-teal",allDay:!1};break;case"4":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-purple",allDay:!1};break;case"5":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-beige",allDay:!1};break;case"6":window.eventList[eventList.length]={title:titl,start:startTime,end:endTime,className:"label-orange",allDay:!1}}temp3.setDate(temp3.getDate()+1)}$,$("#calendar").fullCalendar("addEventSource",eventList)},error:function(e){alert(JSON.stringify(e))}})}function sessionList(){$.ajax({url:"sessionlist",type:"GET",success:function(e){var t=JSON.parse(e),a=Object.keys(t).length/2,n=document.getElementById("sessionSelect");$("#sessionSelect").find("option").remove();var s=document.createElement("option");s.value="select",s.innerHTML="Select Session",s.selected="selected",n.appendChild(s);for(var r=0;a>r;r++){sessionId="sessionId"+r,value="value"+r;var l=document.createElement("option");l.value=t[sessionId],l.innerHTML=t[value],n.appendChild(l)}},error:function(e){alert(JSON.stringify(e))}})}function courseList(){document.getElementById("abc").deleteRow(0),$.ajax({url:"courselist",type:"POST",success:function(e){var t=JSON.parse(e),a=Object.keys(t).length/7;semesterStore=t,semesterSize=a;var n=document.getElementById("courseSelect");$("#courseSelect").find("option").remove();var s=document.createElement("option");s.value="select",s.innerHTML="Select Course",s.selected="selected",n.appendChild(s);for(var r=0;a>r;r++){var l="courseId"+r,i="courseName"+r,c=document.createElement("option");c.value=t[l],c.innerHTML=t[i],n.appendChild(c)}},error:function(e){alert(JSON.stringify(e))}}),eventL()}function courseChange(e){var t=document.getElementById("semOrYr");$("#semOrYr").find("option").remove();var a=document.createElement("option");a.value="select",a.innerHTML="Select Sem/Yr",a.selected="selected",t.appendChild(a);for(var n,s,r=0;semesterSize>r;r++){var l="courseId"+r,i="courseDuration"+r;if(s="coursePattern"+r,e==semesterStore[l]){n=semesterStore[i];break}}for(var c=1;n>=c;c++){var o=document.createElement("option");o.value=c+" "+semesterStore[s],o.innerHTML=c+" "+semesterStore[s],t.appendChild(o)}eventL()}var eventList=[],Calendar=function(){var e=function(){$("#event-management");$("#event-categories div.event-category").each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e),$(this).draggable({zIndex:999,revert:!0,revertDuration:50})});{var e=new Date;e.getDate(),e.getMonth(),e.getFullYear(),$("#calendar").fullCalendar({buttonText:{prev:'<i class="fa fa-chevron-left"></i>',next:'<i class="fa fa-chevron-right"></i>'},header:{left:"",center:"",right:""},events:eventList,editable:!0,droppable:!0,drop:function(e,t){var a=$(this).data("eventObject"),n=$(this).attr("data-class"),s=$.extend({},a);s.start=e,s.allDay=t,n&&(s.className=[n]),$("#calendar").fullCalendar("renderEvent",s,!0),$("#drop-remove").is(":checked")&&$(this).remove()},selectable:!0,selectHelper:!0,select:function(e,t,a){},eventClick:function(e,t,a){eventL()}})}};return{init:function(){e()}}}(),semesterStore,semesterSize;